
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ROS%E5%9F%BA%E7%A1%80/">
      
      
        <link rel="next" href="../%E5%BB%BA%E5%9B%BE%E4%B8%8E%E5%AF%BC%E8%88%AA/">
      
      <link rel="icon" href="../assets/logo.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.1.21">
    
    
      
        <title>ROSè¿›é˜¶ - VK-Robot-Learning-ROS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#3-ros" class="md-skip">
          è·³è½¬è‡³
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰">
    <a href=".." title="VK-Robot-Learning-ROS" class="md-header__button md-logo" aria-label="VK-Robot-Learning-ROS" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            VK-Robot-Learning-ROS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ROSè¿›é˜¶
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="æœç´¢" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="æŸ¥æ‰¾">
        
        <button type="reset" class="md-search__icon md-icon" title="æ¸…ç©ºå½“å‰å†…å®¹" aria-label="æ¸…ç©ºå½“å‰å†…å®¹" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="å¯¼èˆªæ " data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="VK-Robot-Learning-ROS" class="md-nav__button md-logo" aria-label="VK-Robot-Learning-ROS" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    VK-Robot-Learning-ROS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          æ™ºèƒ½æœºå™¨äººæŠ€æœ¯åº”ç”¨
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          æ™ºèƒ½æœºå™¨äººæŠ€æœ¯åº”ç”¨
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ROS%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        ROSåŸºç¡€
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          ROSè¿›é˜¶
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        ROSè¿›é˜¶
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-launch" class="md-nav__link">
    3.1 launch
  </a>
  
    <nav class="md-nav" aria-label="3.1 launch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-roslaunch" class="md-nav__link">
    3.1.1 roslaunchå®šä¹‰
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312" class="md-nav__link">
    3.1.2 æ ‡ç­¾
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    ç»ƒä¹ 
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-tf" class="md-nav__link">
    3.2 TFåæ ‡å˜æ¢
  </a>
  
    <nav class="md-nav" aria-label="3.2 TFåæ ‡å˜æ¢">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-tf" class="md-nav__link">
    3.2.1 TFå·¥å…·
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    3.2.2 å¹¿æ’­å™¨çš„ç¼–ç¨‹å®ç°
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323" class="md-nav__link">
    3.2.3 ç›‘å¬å™¨çš„ç¼–ç¨‹å®ç°
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-qt" class="md-nav__link">
    3.3 Qtå·¥å…·ç®±
  </a>
  
    <nav class="md-nav" aria-label="3.3 Qtå·¥å…·ç®±">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-rqt_console" class="md-nav__link">
    3.3.1 æ—¥å¿—è¾“å‡ºå·¥å…·â€”â€”rqt_console
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-rqt_graph" class="md-nav__link">
    3.3.2 è®¡ç®—å›¾å¯è§†åŒ–å·¥å…·â€”â€”rqt_graph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-rqt_plot" class="md-nav__link">
    3.3.3 æ•°æ®ç»˜å›¾å·¥å…·â€”â€”rqt_plot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-rviz" class="md-nav__link">
    3.4 RVIZ
  </a>
  
    <nav class="md-nav" aria-label="3.4 RVIZ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341-rviz" class="md-nav__link">
    3.4.1 RVIZç®€ä»‹
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-rviz" class="md-nav__link">
    3.4.2 RVIZæ•°æ®å¯è§†åŒ–
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-gazebo" class="md-nav__link">
    3.5 Gazebo
  </a>
  
    <nav class="md-nav" aria-label="3.5 Gazebo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-gazebo" class="md-nav__link">
    3.5.1 Gazeboç®€ä»‹
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352" class="md-nav__link">
    3.5.2 æ„å»ºä»¿çœŸç¯å¢ƒ
  </a>
  
    <nav class="md-nav" aria-label="3.5.2 æ„å»ºä»¿çœŸç¯å¢ƒ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    æ·»åŠ å†…ç½®ç»„ä»¶åˆ›å»ºä»¿çœŸç¯å¢ƒ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    è‡ªå®šä¹‰ä»¿çœŸç¯å¢ƒ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BB%BA%E5%9B%BE%E4%B8%8E%E5%AF%BC%E8%88%AA/" class="md-nav__link">
        å»ºå›¾ä¸å¯¼èˆª
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-launch" class="md-nav__link">
    3.1 launch
  </a>
  
    <nav class="md-nav" aria-label="3.1 launch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-roslaunch" class="md-nav__link">
    3.1.1 roslaunchå®šä¹‰
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312" class="md-nav__link">
    3.1.2 æ ‡ç­¾
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    ç»ƒä¹ 
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-tf" class="md-nav__link">
    3.2 TFåæ ‡å˜æ¢
  </a>
  
    <nav class="md-nav" aria-label="3.2 TFåæ ‡å˜æ¢">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-tf" class="md-nav__link">
    3.2.1 TFå·¥å…·
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    3.2.2 å¹¿æ’­å™¨çš„ç¼–ç¨‹å®ç°
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323" class="md-nav__link">
    3.2.3 ç›‘å¬å™¨çš„ç¼–ç¨‹å®ç°
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-qt" class="md-nav__link">
    3.3 Qtå·¥å…·ç®±
  </a>
  
    <nav class="md-nav" aria-label="3.3 Qtå·¥å…·ç®±">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-rqt_console" class="md-nav__link">
    3.3.1 æ—¥å¿—è¾“å‡ºå·¥å…·â€”â€”rqt_console
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-rqt_graph" class="md-nav__link">
    3.3.2 è®¡ç®—å›¾å¯è§†åŒ–å·¥å…·â€”â€”rqt_graph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-rqt_plot" class="md-nav__link">
    3.3.3 æ•°æ®ç»˜å›¾å·¥å…·â€”â€”rqt_plot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-rviz" class="md-nav__link">
    3.4 RVIZ
  </a>
  
    <nav class="md-nav" aria-label="3.4 RVIZ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341-rviz" class="md-nav__link">
    3.4.1 RVIZç®€ä»‹
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-rviz" class="md-nav__link">
    3.4.2 RVIZæ•°æ®å¯è§†åŒ–
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-gazebo" class="md-nav__link">
    3.5 Gazebo
  </a>
  
    <nav class="md-nav" aria-label="3.5 Gazebo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-gazebo" class="md-nav__link">
    3.5.1 Gazeboç®€ä»‹
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352" class="md-nav__link">
    3.5.2 æ„å»ºä»¿çœŸç¯å¢ƒ
  </a>
  
    <nav class="md-nav" aria-label="3.5.2 æ„å»ºä»¿çœŸç¯å¢ƒ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    æ·»åŠ å†…ç½®ç»„ä»¶åˆ›å»ºä»¿çœŸç¯å¢ƒ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    è‡ªå®šä¹‰ä»¿çœŸç¯å¢ƒ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="3-ros">3 æœºå™¨äººæ“ä½œç³»ç»ŸROSå¸¸ç”¨ç»„ä»¶</h1>
<h2 id="31-launch">3.1 launch</h2>
<h3 id="311-roslaunch">3.1.1 roslaunchå®šä¹‰</h3>
<p><strong>roslaunch</strong>æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œç”¨äºé€šè¿‡SSHåœ¨æœ¬åœ°å’Œè¿œç¨‹è½»æ¾å¯åŠ¨å¤šä¸ªROSèŠ‚ç‚¹å’Œrosmasterï¼Œä»¥åŠåœ¨å‚æ•°æœåŠ¡å™¨ä¸Šè®¾ç½®å‚æ•°ã€‚å®ƒåŒ…æ‹¬è‡ªåŠ¨é‡ç”Ÿå·²æ­»äº¡è¿›ç¨‹çš„é€‰é¡¹ã€‚roslaunch æ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ª XML é…ç½®æ–‡ä»¶ï¼ˆæ‰©å±•åä¸º .launchï¼‰ï¼Œè¿™äº›æ–‡ä»¶æŒ‡å®šè¦è®¾ç½®çš„å‚æ•°å’Œè¦å¯åŠ¨çš„èŠ‚ç‚¹ã€‚</p>
<blockquote>
<p>.launchæ–‡ä»¶ä¸€èˆ¬å­˜æ”¾åœ¨åŠŸèƒ½åŒ…çš„launchç›®å½•ä¸­</p>
</blockquote>
<h3 id="312">3.1.2 æ ‡ç­¾</h3>
<ul>
<li><strong><code>&lt;launch&gt;</code>ï¼š</strong>ä¸<code>&lt;/launch&gt;</code>ä¸€èµ·ç»„æˆlaunchæ–‡ä»¶çš„æ ¹æ ‡ç­¾ï¼Œæ‰€æœ‰å†…å®¹éƒ½åº”è¯¥åŒ…å«åœ¨æ ¹æ ‡ç­¾å†…</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span>......
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<ul>
<li><strong><code>&lt;node&gt;</code>ï¼š</strong>ç”¨äºå¯åŠ¨èŠ‚ç‚¹ï¼ŒåŒ…å«ä»¥ä¸‹å‚æ•°</li>
<li>pkgï¼šèŠ‚ç‚¹æ‰€åœ¨çš„åŠŸèƒ½åŒ…åç§°</li>
<li>typeï¼šèŠ‚ç‚¹çš„å¯æ‰§è¡Œæ–‡ä»¶åç§°ï¼ˆpythonæ–‡ä»¶éœ€è¦åŒ…å«.pyåç¼€ï¼‰</li>
<li>nameï¼šèŠ‚ç‚¹è¿è¡Œæ—¶çš„åç§°ï¼Œå¯å®ç°èŠ‚ç‚¹çš„é‡å‘½å</li>
<li>å¯é€‰å‚æ•°ï¼šoutputï¼ˆæ˜¯å¦åœ¨ç»ˆç«¯è¾“å‡ºæ—¥å¿—ä¿¡æ¯ï¼Œä¸€èˆ¬èµ‹å€¼â€œscreenâ€ï¼‰ã€respawnï¼ˆèŠ‚ç‚¹å…³é—­æ˜¯å¦è‡ªåŠ¨é‡å¯ï¼‰ã€nsï¼ˆä¸ºèŠ‚ç‚¹è®¾ç½®å‘½åç©ºé—´ï¼‰ã€argsï¼ˆåŠ è½½èŠ‚ç‚¹æ‰€éœ€å‚æ•°ï¼‰</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<ul>
<li><strong><code>&lt;param&gt;</code>ä¸<code>&lt;rosparam&gt;</code>ï¼š</strong></li>
<li><code>&lt;param&gt;</code>ç”¨äºåŠ è½½å•ä¸ªå‚æ•°è‡³å‚æ•°æœåŠ¡å™¨ï¼ŒåŒ…å«2ä¸ªå‚æ•°ï¼š<ul>
<li>nameï¼šå‚æ•°å</li>
<li>valueï¼šå‚æ•°å€¼</li>
</ul>
</li>
<li><code>&lt;rosparam&gt;</code>å¸¸ç”¨äºç›´æ¥ä»æ–‡ä»¶ä¸­åŠ è½½å¤šä¸ªå‚æ•°è‡³å‚æ•°æœåŠ¡å™¨ï¼ŒåŒ…å«3ä¸ªå‚æ•°<ul>
<li>fileï¼šå‚æ•°æ–‡ä»¶çš„è·¯å¾„ï¼ˆ.yamlï¼‰</li>
<li>commandï¼šï¼ˆloadåŠ è½½å‚æ•°|dumpä¿å­˜å‚æ•°|deleteåˆ é™¤å‚æ•°ï¼‰é»˜è®¤ä¸ºload</li>
<li>nsï¼ˆå¯é€‰ï¼‰ï¼šè®¾ç½®å‘½åç©ºé—´</li>
</ul>
</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="nt">&lt;rosparam</span><span class="w"> </span><span class="na">file=</span><span class="s">&quot;***.yaml&quot;</span><span class="w"> </span><span class="na">command=</span><span class="s">&quot;load&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<ul>
<li><strong><code>&lt;arg&gt;</code>ï¼š</strong>launchæ–‡ä»¶å†…éƒ¨çš„ä½¿ç”¨çš„å‚æ•°ï¼Œå¯å®ç°è°ƒç”¨launchæ–‡ä»¶æ—¶åŠ¨æ€è®¾ç½®å‚æ•°ï¼ŒåŒ…å«2ä¸ªå‚æ•°</li>
<li>nameï¼šå‚æ•°å</li>
<li>valueï¼šå‚æ•°å€¼</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="nt">&lt;arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;arg-name&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;arg-value&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="cm">&lt;!-- è°ƒç”¨--&gt;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;$(arg arg-name)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;$(arg arg-name)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<ul>
<li><strong><code>&lt;remap&gt;</code>ï¼š</strong>é‡æ˜ å°„ROSè®¡ç®—å›¾èµ„æºçš„å‘½åï¼ŒåŒ…å«ä¸¤ä¸ªå‚æ•°</li>
<li>fromï¼šåŸå‘½å</li>
<li>toï¼šæ˜ å°„ä¹‹åçš„å‘½å</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nt">&lt;remap</span><span class="w"> </span><span class="na">from=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<ul>
<li><strong><code>&lt;include&gt;</code>ï¼š</strong>åŒ…å«å…¶ä»–launchæ–‡ä»¶ï¼ŒåŒ…å«ä¸€ä¸ªå‚æ•°</li>
<li>fileï¼šåŒ…å«çš„å…¶ä»–launchæ–‡ä»¶è·¯å¾„</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="nt">&lt;include</span><span class="w"> </span><span class="na">file=</span><span class="s">&quot;$(find åŠŸèƒ½åŒ…å)/launch/other.launch&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<h3 id="_1">ç»ƒä¹ </h3>
<p>è¯•ç€åˆ›å»ºä¸€ä¸ªlaunchæ–‡ä»¶å¯åŠ¨2.5å°èŠ‚çš„å‘å¸ƒè€…ä¸è®¢é˜…è€…èŠ‚ç‚¹å§<img alt="ğŸ˜ƒ" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f603.svg" title=":smiley:" /></p>
<p><code>simple.launch</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;vkrobot_tutorials&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;my_talker.py&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;talker&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;vkrobot_tutorials&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;my_listener.py&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;listener&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<h2 id="32-tf">3.2 TFåæ ‡å˜æ¢</h2>
<figure>
<p><img alt="tf-pr2" src="../assets/tf-pr2.png" width="400" /></p>
</figure>
<figure>
<p><img alt="tf" src="../assets/tf.png" width="600" /></p>
</figure>
<h3 id="321-tf">3.2.1 TFå·¥å…·</h3>
<blockquote>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªå°æ¡ˆä¾‹ï¼Œä½“ä¼šä¸€ä¸‹tfæ˜¯ä»€ä¹ˆ</p>
</blockquote>
<ol>
<li>å®‰è£…DEMO</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>ros-melodic-ros-tutorials<span class="w"> </span>ros-melodic-geometry-tutorials<span class="w"> </span>ros-melodic-rviz<span class="w"> </span>ros-melodic-rosbash<span class="w"> </span>ros-melodic-rqt-tf-tree
</span></code></pre></div>
<ol>
<li>è¿è¡ŒDEMO</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>roslaunch<span class="w"> </span>turtle_tf<span class="w"> </span>turtle_tf_demo.launch
</span></code></pre></div>
<figure>
<p><img alt="turtle_tf_start.png" src="http://wiki.ros.org/tf/Tutorials/Introduction%20to%20tf?action=AttachFile&amp;do=get&amp;target=turtle_tf_start.png" /></p>
</figure>
<blockquote>
<p>ä¸€æ—¦ turtlesim å¯åŠ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é”®ç›˜æ–¹å‘é”®åœ¨ turtlesim ä¸­æ§åˆ¶ä½äºä¸­å¿ƒçš„å°æµ·é¾Ÿï¼Œ<strong>é€‰ä¸­ roslaunch ç»ˆç«¯çª—å£</strong>ï¼Œä»¥ä¾¿æ•è·æ‚¨çš„å‡»é”®ä»¥é©±åŠ¨ turtlesim</p>
</blockquote>
<figure>
<p><img alt="turtle_tf_drive.png" src="http://wiki.ros.org/tf/Tutorials/Introduction%20to%20tf?action=AttachFile&amp;do=get&amp;target=turtle_tf_drive.png" /></p>
</figure>
<blockquote>
<p>ç°åœ¨è®©æˆ‘ä»¬ç”¨tfå·¥å…·æ¥æŸ¥çœ‹tfç©¶ç«Ÿåšäº†ä»€ä¹ˆ</p>
</blockquote>
<ol>
<li>view_frames</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>rosrun<span class="w"> </span>tf<span class="w"> </span>view_frames
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>Transform<span class="w"> </span>Listener<span class="w"> </span>initing
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>Listening<span class="w"> </span>to<span class="w"> </span>/tf<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">5</span>.000000<span class="w"> </span>seconds
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>Done<span class="w"> </span>Listening
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>dot<span class="w"> </span>-<span class="w"> </span>Graphviz<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.16<span class="w"> </span><span class="o">(</span>Fri<span class="w"> </span>Feb<span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">12</span>:52:03<span class="w"> </span>UTC<span class="w"> </span><span class="m">2008</span><span class="o">)</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>Detected<span class="w"> </span>dot<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.16
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>frames.pdf<span class="w"> </span>generated
</span></code></pre></div>
<ol>
<li>rqt_tf_tree</li>
</ol>
<p><code>rqt_tf_tree</code>æ˜¯ä¸€ä¸ªå®æ—¶è¿è¡Œçš„å·¥å…·ï¼Œç”¨äºå¯è§†åŒ–é€šè¿‡ ROS å¹¿æ’­çš„å¸§æ ‘ï¼Œæ‚¨åªéœ€é€šè¿‡å›¾è¡¨å·¦ä¸Šè§’çš„åˆ·æ–°åº•éƒ¨åˆ·æ–°æ ‘å³å¯</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>rosrun<span class="w"> </span>rqt_tf_tree<span class="w"> </span>rqt_tf_tree
</span></code></pre></div>
<ol>
<li>tf_echo</li>
</ol>
<p><code>tf_echo</code>å¯ä»¥æŸ¥çœ‹é€šè¿‡ROSå¹¿æ’­çš„ä»»æ„ä¸¤ä¸ªåæ ‡ç³»ä¹‹é—´çš„è½¬æ¢</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># ç”¨æ³•</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>rosrun<span class="w"> </span>tf<span class="w"> </span>tf_echo<span class="w"> </span><span class="o">[</span>reference_frame<span class="o">]</span><span class="w"> </span><span class="o">[</span>target_frame<span class="o">]</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>vkrobot@vkrobot:~$<span class="w"> </span>rosrun<span class="w"> </span>tf<span class="w"> </span>tf_echo<span class="w"> </span>turtle1<span class="w"> </span>turtle2
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>At<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">1416409795</span>.450
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>-<span class="w"> </span>Translation:<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000<span class="o">]</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>-<span class="w"> </span>Rotation:<span class="w"> </span><span class="k">in</span><span class="w"> </span>Quaternion<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.914,<span class="w"> </span><span class="m">0</span>.405<span class="o">]</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">            </span><span class="k">in</span><span class="w"> </span>RPY<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span>-0.000,<span class="w"> </span><span class="m">2</span>.308<span class="o">]</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>At<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">1416409796</span>.441
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>-<span class="w"> </span>Translation:<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000<span class="o">]</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>-<span class="w"> </span>Rotation:<span class="w"> </span><span class="k">in</span><span class="w"> </span>Quaternion<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.914,<span class="w"> </span><span class="m">0</span>.405<span class="o">]</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">            </span><span class="k">in</span><span class="w"> </span>RPY<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span>-0.000,<span class="w"> </span><span class="m">2</span>.308<span class="o">]</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>At<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">1416409797</span>.450
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>-<span class="w"> </span>Translation:<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000<span class="o">]</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>-<span class="w"> </span>Rotation:<span class="w"> </span><span class="k">in</span><span class="w"> </span>Quaternion<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.914,<span class="w"> </span><span class="m">0</span>.405<span class="o">]</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">            </span><span class="k">in</span><span class="w"> </span>RPY<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span>-0.000,<span class="w"> </span><span class="m">2</span>.308<span class="o">]</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>At<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">1416409798</span>.441
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>-<span class="w"> </span>Translation:<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000<span class="o">]</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>-<span class="w"> </span>Rotation:<span class="w"> </span><span class="k">in</span><span class="w"> </span>Quaternion<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.914,<span class="w"> </span><span class="m">0</span>.405<span class="o">]</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">            </span><span class="k">in</span><span class="w"> </span>RPY<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span>-0.000,<span class="w"> </span><span class="m">2</span>.308<span class="o">]</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a>At<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">1416409799</span>.433
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a>-<span class="w"> </span>Translation:<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000<span class="o">]</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a>-<span class="w"> </span>Rotation:<span class="w"> </span><span class="k">in</span><span class="w"> </span>Quaternion<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.691,<span class="w"> </span><span class="m">0</span>.723<span class="o">]</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">            </span><span class="k">in</span><span class="w"> </span>RPY<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span>-0.000,<span class="w"> </span><span class="m">1</span>.526<span class="o">]</span>
</span></code></pre></div>
<blockquote>
<p>ç”¨é”®ç›˜æ§åˆ¶å°æµ·é¾Ÿç§»åŠ¨ï¼Œè§‚å¯Ÿæ•°æ®çš„å˜åŒ–</p>
</blockquote>
<h3 id="322">3.2.2 å¹¿æ’­å™¨çš„ç¼–ç¨‹å®ç°</h3>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>vkrobot@vkrobot:~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/catkin_ws/src
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>catkin_create_pkg<span class="w"> </span>learning_tf<span class="w"> </span>tf<span class="w"> </span>roscpp<span class="w"> </span>rospy<span class="w"> </span>turtlesim<span class="w"> </span>geometry_msgs
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>learning_tf
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>vkrobot@vkrobot:~/catkin_ws/src/learning_tf$<span class="w"> </span>mkdir<span class="w"> </span>scripts
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>vkrobot@vkrobot:~/catkin_ws/src/learning_tf$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>scripts
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>vkrobot@vkrobot:~/catkin_ws/src/learning_tf/scripts$<span class="w"> </span>touch<span class="w"> </span>turtle_tf_broadcaster.py
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>vkrobot@vkrobot:~/catkin_ws/src/learning_tf/scripts$<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>turtle_tf_broadcaster.py<span class="w">  </span><span class="c1">#æ·»åŠ å¯æ‰§è¡Œæƒé™</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>vkrobot@vkrobot:~/catkin_ws/src/learning_tf/scripts$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/catkin_ws
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>vkrobot@vkrobot:~/catkin_ws$<span class="w"> </span>catkin_make
</span></code></pre></div>
<p><code>turtle_tf_broadcaster.py</code></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="ch">#!/usr/bin/env python  </span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="kn">import</span> <span class="nn">rospy</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="kn">import</span> <span class="nn">tf</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="kn">import</span> <span class="nn">turtlesim.msg</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="c1"># æ­¤å‡½æ•°å°†å¹¿æ’­å°æµ·é¾Ÿçš„å¹³ç§»å’Œæ—‹è½¬ä¿¡æ¯ï¼Œå¹¶å‘å¸ƒä»â€œworldâ€åæ ‡ç³»åˆ°â€œturtlenameâ€çš„tfå˜æ¢</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="k">def</span> <span class="nf">handle_turtle_pose</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">turtlename</span><span class="p">):</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>    <span class="n">br</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">TransformBroadcaster</span><span class="p">()</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    <span class="n">br</span><span class="o">.</span><span class="n">sendTransform</span><span class="p">((</span><span class="n">msg</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>                     <span class="n">tf</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">quaternion_from_euler</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">theta</span><span class="p">),</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>                     <span class="n">rospy</span><span class="o">.</span><span class="n">Time</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>                     <span class="n">turtlename</span><span class="p">,</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>                     <span class="s2">&quot;world&quot;</span><span class="p">)</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="k">if</span> <span class="vm">__name__</span>  <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>    <span class="n">rospy</span><span class="o">.</span><span class="n">init_node</span><span class="p">(</span><span class="s1">&#39;turtle_tf_broadcaster&#39;</span><span class="p">)</span>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>    <span class="n">turtlename</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">get_param</span><span class="p">(</span><span class="s1">&#39;~turtle&#39;</span><span class="p">)</span>  <span class="c1"># è¯¥èŠ‚ç‚¹é‡‡ç”¨å•ä¸ªå‚æ•°â€œturtleâ€ï¼Œè¯¥å‚æ•°æŒ‡å®šäº†æµ·é¾Ÿåç§°ï¼Œä¾‹å¦‚â€œturtle1â€æˆ–â€œturtle2â€</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>    <span class="n">rospy</span><span class="o">.</span><span class="n">Subscriber</span><span class="p">(</span><span class="s1">&#39;/</span><span class="si">%s</span><span class="s1">/pose&#39;</span> <span class="o">%</span> <span class="n">turtlename</span><span class="p">,</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>                     <span class="n">turtlesim</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">Pose</span><span class="p">,</span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>                     <span class="n">handle_turtle_pose</span><span class="p">,</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>                     <span class="n">turtlename</span><span class="p">)</span>  <span class="c1"># è¯¥èŠ‚ç‚¹è®¢é˜…è¯é¢˜â€œ[turtlename]/poseâ€ï¼Œå¹¶é’ˆå¯¹æ¯æ¡ä¼ å…¥çš„æ¶ˆæ¯è°ƒç”¨å›è°ƒå‡½æ•°â€œhandle_turtle_poseâ€</span>
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>    <span class="n">rospy</span><span class="o">.</span><span class="n">spin</span><span class="p">()</span>
</span></code></pre></div>
<p>è¿è¡ŒbroadcasterèŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹è¿è¡Œéœ€è¦ä¼ é€’å‚æ•°ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨launchæ–‡ä»¶æ¥å¯åŠ¨ï¼Œåˆ›å»º<code>launch/start_demo.launch</code>æ–‡ä»¶</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>roscd<span class="w"> </span>learning_tf
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>vkrobot@vkrobot:~/catkin_ws/src/learning_tf$<span class="w"> </span>mkdir<span class="w"> </span>launch
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>vkrobot@vkrobot:~/catkin_ws/src/learning_tf$<span class="w"> </span>touch<span class="w"> </span>launch/start_demo.launch
</span></code></pre></div>
<p><code>start_demo.launch</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span><span class="cm">&lt;!-- Turtlesim Node--&gt;</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;turtlesim&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;turtlesim_node&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sim&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;turtlesim&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;turtle_teleop_key&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teleop&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;learning_tf&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;turtle_tf_broadcaster.py&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;turtle1_tf_broadcaster&quot;</span><span class="w"> </span><span class="na">respawn=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="w"> </span><span class="nt">&gt;</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;turtle&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;turtle1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">    </span><span class="nt">&lt;/node&gt;</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;learning_tf&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;turtle_tf_broadcaster.py&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;turtle2_tf_broadcaster&quot;</span><span class="w"> </span><span class="na">respawn=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="w"> </span><span class="nt">&gt;</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;turtle&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;turtle2&quot;</span><span class="w"> </span><span class="nt">/&gt;</span><span class="w"> </span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">    </span><span class="nt">&lt;/node&gt;</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<p>å¯åŠ¨ï¼š</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>roslaunch<span class="w"> </span>learning_tf<span class="w"> </span>start_demo.launch
</span></code></pre></div>
<blockquote>
<p>å¯ä»¥ç”¨<code>tf_echo</code>æŸ¥çœ‹ç»“æœ</p>
<p><code>rosrun tf tf_echo /world /turtle1</code></p>
</blockquote>
<h3 id="323">3.2.3 ç›‘å¬å™¨çš„ç¼–ç¨‹å®ç°</h3>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>roscd<span class="w"> </span>learning_tf
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>vkrobot@vkrobot:~/catkin_ws/src/learning_tf$<span class="w"> </span>touch<span class="w"> </span>scripts/turtle_tf_listener.py
</span></code></pre></div>
<p><code>turtle_tf_listener.py</code></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="ch">#!/usr/bin/env python  </span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="kn">import</span> <span class="nn">rospy</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="kn">import</span> <span class="nn">math</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="kn">import</span> <span class="nn">tf</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="kn">import</span> <span class="nn">geometry_msgs.msg</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="kn">import</span> <span class="nn">turtlesim.srv</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="k">if</span> <span class="vm">__name__</span>  <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>    <span class="n">rospy</span><span class="o">.</span><span class="n">init_node</span><span class="p">(</span><span class="s1">&#39;turtle_tf_listener&#39;</span><span class="p">)</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>    <span class="n">listener</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">TransformListener</span><span class="p">()</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>    <span class="n">rospy</span><span class="o">.</span><span class="n">wait_for_service</span><span class="p">(</span><span class="s1">&#39;spawn&#39;</span><span class="p">)</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>    <span class="n">spawner</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">ServiceProxy</span><span class="p">(</span><span class="s1">&#39;spawn&#39;</span><span class="p">,</span> <span class="n">turtlesim</span><span class="o">.</span><span class="n">srv</span><span class="o">.</span><span class="n">Spawn</span><span class="p">)</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>    <span class="n">spawner</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;turtle2&#39;</span><span class="p">)</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>    <span class="n">turtle_vel</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">Publisher</span><span class="p">(</span><span class="s1">&#39;turtle2/cmd_vel&#39;</span><span class="p">,</span> <span class="n">geometry_msgs</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">Twist</span><span class="p">,</span><span class="n">queue_size</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>    <span class="n">rate</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">Rate</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>    <span class="k">while</span> <span class="ow">not</span> <span class="n">rospy</span><span class="o">.</span><span class="n">is_shutdown</span><span class="p">():</span>
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a>            <span class="p">(</span><span class="n">trans</span><span class="p">,</span><span class="n">rot</span><span class="p">)</span> <span class="o">=</span> <span class="n">listener</span><span class="o">.</span><span class="n">lookupTransform</span><span class="p">(</span><span class="s1">&#39;/turtle2&#39;</span><span class="p">,</span> <span class="s1">&#39;/turtle1&#39;</span><span class="p">,</span> <span class="n">rospy</span><span class="o">.</span><span class="n">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>            <span class="c1"># transä¸­å­˜å‚¨çš„æ˜¯x, y, zä¸‰ä¸ªè½´çš„ç›¸å¯¹è·ç¦»</span>
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a>            <span class="c1"># rotä¸­å­˜å‚¨çš„æ˜¯å››å…ƒæ•°å˜æ¢</span>
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a>        <span class="k">except</span> <span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">LookupException</span><span class="p">,</span> <span class="n">tf</span><span class="o">.</span><span class="n">ConnectivityException</span><span class="p">,</span> <span class="n">tf</span><span class="o">.</span><span class="n">ExtrapolationException</span><span class="p">):</span>
</span><span id="__span-18-26"><a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>            <span class="k">continue</span>
</span><span id="__span-18-27"><a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a>
</span><span id="__span-18-28"><a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a>        <span class="n">angular</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">trans</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">trans</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="__span-18-29"><a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a>        <span class="n">linear</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">trans</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">trans</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="__span-18-30"><a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a>        <span class="n">cmd</span> <span class="o">=</span> <span class="n">geometry_msgs</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">Twist</span><span class="p">()</span>
</span><span id="__span-18-31"><a id="__codelineno-18-31" name="__codelineno-18-31" href="#__codelineno-18-31"></a>        <span class="n">cmd</span><span class="o">.</span><span class="n">linear</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">linear</span>
</span><span id="__span-18-32"><a id="__codelineno-18-32" name="__codelineno-18-32" href="#__codelineno-18-32"></a>        <span class="n">cmd</span><span class="o">.</span><span class="n">angular</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">angular</span>
</span><span id="__span-18-33"><a id="__codelineno-18-33" name="__codelineno-18-33" href="#__codelineno-18-33"></a>        <span class="n">turtle_vel</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-18-34"><a id="__codelineno-18-34" name="__codelineno-18-34" href="#__codelineno-18-34"></a>
</span><span id="__span-18-35"><a id="__codelineno-18-35" name="__codelineno-18-35" href="#__codelineno-18-35"></a>        <span class="n">rate</span><span class="o">.</span><span class="n">sleep</span><span class="p">()</span>
</span></code></pre></div>
<p>ä¿®æ”¹<code>start_demo.launch</code>ï¼Œå¯åŠ¨listenerèŠ‚ç‚¹</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span>...
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;learning_tf&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;turtle_tf_listener.py&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;listener&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<h2 id="33-qt">3.3 Qtå·¥å…·ç®±</h2>
<p>å®‰è£…ï¼š</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>ros-melodic-rqt
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>vkrobot@vkrobot:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>ros-melodic-rqt-common-plugins
</span></code></pre></div>
<h3 id="331-rqt_console">3.3.1 æ—¥å¿—è¾“å‡ºå·¥å…·â€”â€”rqt_console</h3>
<figure>
<p><img alt="rqt_console sample snapshot" src="http://wiki.ros.org/rqt_console?action=AttachFile&amp;do=get&amp;target=snap_rqt_console.png" width="700" /></p>
</figure>
<p>rqt_consoleæ˜¯RQTåŒ…ä¸­çš„ä¸€ä¸ªæŸ¥çœ‹å‘å¸ƒåˆ°/rosoutçš„æ¶ˆæ¯ã€‚å®ƒä¼šéšç€æ—¶é—´çš„æ¨ç§»æ”¶é›†æ¶ˆæ¯ï¼Œå¹¶å…è®¸æ‚¨æ›´è¯¦ç»†åœ°æŸ¥çœ‹å®ƒä»¬ï¼Œå…è®¸æ‚¨é€šè¿‡å„ç§æ–¹å¼è¿‡æ»¤æ¶ˆæ¯ã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¡Œå¯åŠ¨ï¼š<code>rqt_console</code></p>
<h3 id="332-rqt_graph">3.3.2 è®¡ç®—å›¾å¯è§†åŒ–å·¥å…·â€”â€”rqt_graph</h3>
<figure>
<p><img alt="launch top window" src="http://wiki.ros.org/rqt_graph?action=AttachFile&amp;do=get&amp;target=snap_rqt_graph_moveit_demo.png" width="700" /></p>
</figure>
<p>åœ¨å­¦ä¹ è¯é¢˜é€šä¿¡æ—¶æˆ‘ä»¬å·²ç»ä½¿ç”¨è¿‡æ­¤å·¥å…·äº†ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¡Œå¯åŠ¨ï¼š<code>rqt_graph</code></p>
<h3 id="333-rqt_plot">3.3.3 æ•°æ®ç»˜å›¾å·¥å…·â€”â€”rqt_plot</h3>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¡Œå¯åŠ¨ï¼š<code>rqt_plot</code></p>
<figure>
<p><img alt="ROS/Tutorials/UnderstandingTopics/rqt_plot.png" src="http://wiki.ros.org/ROS/Tutorials/UnderstandingTopics?action=AttachFile&amp;do=get&amp;target=rqt_plot.png" width="700" /></p>
</figure>
<p>åœ¨â€œTopicâ€ä¸­è¾“å…¥è¯é¢˜ï¼Œç„¶åæŒ‰â€œ+â€æŒ‰é’®å³å¯æ·»åŠ æ•°æ®</p>
<h2 id="34-rviz">3.4 RVIZ</h2>
<h3 id="341-rviz">3.4.1 RVIZç®€ä»‹</h3>
<p>RVIZæ˜¯ä¸€æ¬¾ä¸‰ç»´å¯è§†åŒ–è½¯ä»¶ï¼Œé’ˆå¯¹åŸºäºROSè½¯ä»¶æ¡†æ¶çš„æœºå™¨äººå¹³å°æœ‰å¾ˆå¥½çš„å…¼å®¹æ€§ã€‚RVIZä¸»è¦æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åœ¨RVIZä¸­ï¼Œå¯ä»¥ä½¿ç”¨XML[^1]è¯­è¨€å¯¹æœºå™¨äººã€å‘¨å›´ç‰©ä½“ç­‰ä»»ä½•å®ç‰©è¿›è¡Œå°ºå¯¸ã€è´¨é‡ã€ä½ç½®ã€æè´¨ã€å…³èŠ‚ç­‰å±æ€§çš„æè¿°ï¼Œå¹¶åœ¨ç•Œé¢ä¸­å‘ˆç°å‡ºæ¥ï¼Œè¿™ç§æ–‡ä»¶ç§°ä¹‹ä¸ºURDFæ–‡ä»¶</li>
<li>RVIZå¯ä»¥é€šè¿‡å›¾å½¢åŒ–çš„æ–¹å¼ï¼Œå®æ—¶æ˜¾ç¤ºæœºå™¨äººä¼ æ„Ÿå™¨çš„ä¿¡æ¯ã€æœºå™¨äººçš„è¿åŠ¨çŠ¶æ€ã€å‘¨å›´ç¯å¢ƒçš„å˜åŒ–ç­‰ä¿¡æ¯</li>
</ul>
<h3 id="342-rviz">3.4.2 RVIZæ•°æ®å¯è§†åŒ–</h3>
<figure>
<p><img alt="" src="../assets/image-20230522134306851.png" width="700" /></p>
</figure>
<p>RVIZä¸­çš„UIç•Œé¢åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<ul>
<li>0ï¼š3Dè§†å›¾åŒº</li>
<li>1ï¼šå·¥å…·æ </li>
<li>2ï¼šæ˜¾ç¤ºé¡¹åˆ—è¡¨</li>
<li>3ï¼šè§†è§’è®¾ç½®åŒº</li>
<li>4ï¼šæ—¶é—´æ˜¾ç¤ºåŒº</li>
</ul>
<h2 id="35-gazebo">3.5 Gazebo</h2>
<h3 id="351-gazebo">3.5.1 Gazeboç®€ä»‹</h3>
<p>Gazeboæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ä¸‰ç»´ç‰©ç†ä»¿çœŸå¹³å°ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å…·å¤‡å¼ºå¤§çš„ç‰©ç†å¼•æ“</li>
<li>é«˜è´¨é‡çš„å›¾å½¢æ¸²æŸ“</li>
<li>æ–¹ä¾¿çš„ç¼–ç¨‹ä¸å›¾å½¢æ¥å£</li>
<li>å¼€æºå…è´¹</li>
</ul>
<figure>
<p><img alt="image-20230522135803961" src="../assets/image-20230522135803961.png" width="700" /></p>
</figure>
<h3 id="352">3.5.2 æ„å»ºä»¿çœŸç¯å¢ƒ</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒGazeboçš„é»˜è®¤åœºæ™¯æ˜¯â€œempty worldâ€ï¼Œå¹¶æ²¡æœ‰ç±»ä¼¼æˆ¿é—´ã€éšœç¢ç‰©ã€é“è·¯ç­‰ä»¿çœŸç‰©ä½“ï¼Œé‚£å¦‚ä½•åœ¨Gazeboä¸­åˆ›å»ºä»¿çœŸç¯å¢ƒå‘¢ï¼Ÿ</p>
<p>Gazeboä¸­åˆ›å»ºä»¿çœŸç¯å¢ƒæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ç›´æ¥æ·»åŠ å†…ç½®ç»„ä»¶åˆ›å»ºä»¿çœŸç¯å¢ƒ</li>
<li>æ‰‹åŠ¨ç»˜åˆ¶ä»¿çœŸç¯å¢ƒ</li>
</ul>
<h4 id="_2">æ·»åŠ å†…ç½®ç»„ä»¶åˆ›å»ºä»¿çœŸç¯å¢ƒ</h4>
<ol>
<li>å¯åŠ¨Gazeboå¹¶æ·»åŠ ç»„ä»¶</li>
</ol>
<figure>
<p><img alt="image-20230522162806255" src="../assets/image-20230522162806255.png" width="700" /></p>
</figure>
<ol>
<li>ä¿å­˜ä»¿çœŸç¯å¢ƒ</li>
</ol>
<p>é€‰æ‹© "File" --&gt; "Save World As"ï¼Œé€‰æ‹©ä¿å­˜è·¯å¾„ï¼ˆåŠŸèƒ½åŒ…è·¯å¾„ä¸‹åˆ›å»ºworldsç›®å½•ï¼‰ï¼Œæ–‡ä»¶åç¼€ä¸º .world</p>
<figure>
<p><img alt="image-20230522162930858" src="../assets/image-20230522162930858.png" width="700" /></p>
</figure>
<ol>
<li>å¯åŠ¨</li>
</ol>
<p>åˆ›å»ºlaunchæ–‡ä»¶å¯åŠ¨</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span>......
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="nt">&lt;include</span><span class="w"> </span><span class="na">file=</span><span class="s">&quot;$(find gazebo_ros)/launch/empty_world.launch&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">        </span><span class="nt">&lt;arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;world_name&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;$(find åŠŸèƒ½åŒ…å)/world/***.world&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">    </span><span class="nt">&lt;/include&gt;</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<h4 id="_3">è‡ªå®šä¹‰ä»¿çœŸç¯å¢ƒ</h4>
<ol>
<li>å¯åŠ¨Gazeboè¿›å…¥â€œEditâ€ --&gt; "Building Editor"æ¨¡å¼ï¼Œç»˜åˆ¶ä»¿çœŸç¯å¢ƒ</li>
</ol>
<figure>
<p><img alt="image-20230522163458307" src="../assets/image-20230522163458307.png" width="700" /></p>
</figure>
<figure>
<p><img alt="image-20230522163656306" src="../assets/image-20230522163656306.png" width="700" /></p>
</figure>
<p>ä¿å­˜ä»¿çœŸç¯å¢ƒä¸å¯åŠ¨æ–¹å¼åŒä¸Š</p>
<h1 id="4">4 æœºå™¨äººå»ºæ¨¡ä¸ä»¿çœŸ</h1>
<h2 id="41-urdf">4.1 URDF</h2>
<h3 id="411">4.1.1 ç®€ä»‹</h3>
<p>URDFï¼ˆUnified Robot Description Formatï¼‰â€”â€”ç»Ÿä¸€æœºå™¨äººæè¿°æ ¼å¼ï¼Œæ˜¯ä¸€ç§ä»¥XMLçš„æ–¹å¼æè¿°æœºå™¨äººçš„æ–‡ä»¶ï¼Œå¯ä»¥æè¿°æœºå™¨äººçš„åº•ç›˜ã€æ‘„åƒå¤´ã€æ¿€å…‰é›·è¾¾ã€æœºæ¢°è‡‚ç­‰ï¼Œå®ƒå¯ä»¥è¢« C++ å†…ç½®çš„è§£é‡Šå™¨è½¬æ¢æˆå¯è§†åŒ–çš„æœºå™¨äººæ¨¡å‹ï¼Œæ˜¯ROSä¸­å®ç°æœºå™¨äººä»¿çœŸçš„é‡è¦ç»„ä»¶ã€‚</p>
<h3 id="412">4.1.2 æ ‡ç­¾</h3>
<ol>
<li><code>&lt;robot&gt;</code>ï¼šæ ¹æ ‡ç­¾ï¼Œç±»ä¼¼launchæ–‡ä»¶ä¸­çš„<launch>æ ‡ç­¾</li>
</ol>
<p>å±æ€§ï¼š</p>
<ul>
<li>nameï¼šæŒ‡å®šæœºå™¨äººæ¨¡å‹çš„åç§°</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span>......
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li><code>&lt;link&gt;</code>ï¼šè¿æ†æ ‡ç­¾ï¼Œç”¨äºæè¿°æœºå™¨äººåˆšä½“éƒ¨åˆ†çš„å¤–è§‚å’Œç‰©ç†å±æ€§ï¼Œå¦‚æœºå™¨äººåº•ç›˜ï¼Œè½®å­ï¼Œæ‘„åƒå¤´ï¼Œæ¿€å…‰é›·è¾¾ç­‰</li>
</ol>
<figure>
<p><img alt="img" src="../assets/%E5%9B%BE%E7%89%872.png" /></p>
</figure>
<p>å±æ€§ï¼š</p>
<ul>
<li>nameï¼šä¸ºè¿æ†å‘½å</li>
</ul>
<p>å­æ ‡ç­¾ï¼š</p>
<ul>
<li>
<p>visual --&gt; æè¿°å¤–è§‚</p>
</li>
<li>
<p>geometry --&gt; è®¾ç½®åˆšä½“å‡ ä½•å½¢çŠ¶</p>
<ul>
<li>boxï¼šç›’çŠ¶</li>
</ul>
<p>å±æ€§ï¼šsize="x y z"</p>
<ul>
<li>cylinderï¼šåœ†æŸ±ä½“</li>
</ul>
<p>å±æ€§ï¼šradius="åŠå¾„" length="é•¿åº¦"</p>
<ul>
<li>sphereï¼šçƒä½“</li>
</ul>
<p>å±æ€§ï¼šradius="åŠå¾„"</p>
</li>
<li>
<p>origin --&gt; è®¾ç½®ä½å§¿ï¼ˆåç§»é‡&amp;å€¾æ–œå¼§åº¦ï¼‰</p>
<p>å±æ€§ï¼š</p>
<ul>
<li>
<p>xyzï¼šåç§»</p>
</li>
<li>
<p>rpyï¼ˆæ¬§æ‹‰è§’ï¼‰ï¼šr-ç¿»æ»š p-ä¿¯ä»° y-åèˆª  </p>
</li>
</ul>
</li>
<li>
<p>metrial --&gt; è®¾ç½®æè´¨ä¸é¢œè‰²</p>
<p>å±æ€§ï¼šname</p>
<ul>
<li>color</li>
</ul>
<p>å±æ€§ï¼šrgbaâ€”â€”çº¢ç»¿è“æƒé‡ä¸é€æ˜åº¦ï¼Œå–å€¼ [0,1]</p>
</li>
<li>
<p>collision --&gt; æè¿°ç¢°æ’å±æ€§</p>
</li>
<li>
<p>inertial --&gt; æè¿°æƒ¯æ€§çŸ©é˜µ</p>
</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">                </span><span class="cm">&lt;!-- ç›’çŠ¶ --&gt;</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">                </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;1 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">                </span><span class="cm">&lt;!-- åœ†æŸ±ä½“ --&gt;</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">                </span><span class="cm">&lt;!-- çƒä½“ --&gt;</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">                </span><span class="nt">&lt;sphere</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">            </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;1 1 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">            </span><span class="nt">&lt;material&gt;</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="w">        </span><span class="nt">&lt;collision&gt;</span>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="w">            </span><span class="cm">&lt;!-- æ— ç‰¹æ®Šè¦æ±‚æ—¶ä¸visualæ ‡ç­¾ä¿æŒä¸€è‡´ --&gt;</span>
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="w">                </span>......
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-23-22"><a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="w">            </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-23-23"><a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a><span class="w">        </span><span class="nt">&lt;/collision&gt;</span>
</span><span id="__span-23-24"><a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="w">        </span><span class="nt">&lt;inertial&gt;</span>
</span><span id="__span-23-25"><a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="w">            </span>......
</span><span id="__span-23-26"><a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="w">        </span><span class="nt">&lt;/inertial&gt;</span>
</span><span id="__span-23-27"><a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-23-28"><a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li><code>&lt;joint&gt;</code>ï¼šå…³èŠ‚æ ‡ç­¾ï¼Œç”¨äºæè¿°ä¸¤ä¸ªåˆšä½“é—´çš„è¿æ¥å…³ç³»</li>
</ol>
<figure>
<p><img alt="img" src="../assets/%E5%9B%BE%E7%89%873.png" /></p>
</figure>
<p>å±æ€§ï¼š</p>
<ul>
<li>name --&gt; ä¸ºå…³èŠ‚å‘½å</li>
<li>type --&gt; å…³èŠ‚çš„ç±»å‹</li>
<li>fixedï¼šå›ºå®šå…³èŠ‚ï¼Œæ— è‡ªç”±åº¦</li>
<li>continuousï¼šæ—‹è½¬å…³èŠ‚ï¼Œæ‹¥æœ‰ç»•å•è½´æ—‹è½¬çš„1ä¸ªè‡ªç”±åº¦</li>
<li>revoluteï¼šæ—‹è½¬å…³èŠ‚ï¼Œç±»ä¼¼äºcontinuousï¼Œä½†æ˜¯æœ‰æ—‹è½¬è§’åº¦çš„é™åˆ¶ï¼Œ1ä¸ªè‡ªç”±åº¦</li>
<li>prismaticï¼šæ»‘åŠ¨å…³èŠ‚ï¼Œæ‹¥æœ‰æ²¿å•è½´ç§»åŠ¨çš„è‡ªç”±åº¦ï¼Œæœ‰ä½ç½®æé™ï¼Œ1ä¸ªè‡ªç”±åº¦</li>
<li>plannerï¼šå¹³é¢å…³èŠ‚ï¼Œæ‹¥æœ‰åœ¨å¹³é¢æ­£äº¤æ–¹å‘ä¸Šçš„å¹³ç§»æˆ–æ—‹è½¬çš„è‡ªç”±åº¦ï¼Œ5ä¸ªè‡ªç”±åº¦</li>
<li>floatingï¼šæµ®åŠ¨èŠ‚ç‚¹ï¼Œæ‹¥æœ‰ä¸‰è½´å¹³ç§»ä¸æ—‹è½¬çš„6ä¸ªè‡ªç”±åº¦</li>
</ul>
<p>å­æ ‡ç­¾ï¼š</p>
<ul>
<li>parent --&gt; è®¾ç½®å…³èŠ‚çš„çˆ¶çº§è¿æ†</li>
<li>link --&gt; çˆ¶çº§è¿æ†åç§°</li>
<li>child --&gt; è®¾ç½®å…³èŠ‚çš„å­çº§è¿æ†</li>
<li>link --&gt; å­çº§è¿æ†åç§°</li>
<li>origin --&gt; è®¾ç½®å…³èŠ‚çš„åç§»é‡</li>
<li>axis --&gt; è®¾ç½®å…³èŠ‚å›´ç»•å“ªä¸ªè½´è¿åŠ¨</li>
</ul>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;link_1&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">        </span>......
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;link_2&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">        </span>......
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;joint_name&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;continuous&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;link_1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;link_2&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">        </span><span class="cm">&lt;!-- è®¡ç®—ä¸¤ä¸ªè¿æ†çš„ç‰©ç†ä¸­å¿ƒåç§»é‡ --&gt;</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="w">        </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 1 0&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li><code>&lt;gazebo&gt;</code>ï¼šé›†æˆGazeboæ—¶éœ€è¦ä½¿ç”¨çš„æ ‡ç­¾</li>
</ol>
<h3 id="413-urdf">4.1.3 åˆ›å»ºURDFæ¨¡å‹</h3>
<ol>
<li>æ–°å»ºåŠŸèƒ½åŒ…å¹¶å¯¼å…¥ä¾èµ–ï¼ŒåŒ…æ‹¬ï¼š<code>urdf</code>ã€<code>xacro</code>ã€<code>gaezbo_ros</code>ã€<code>gazebo_ros_control</code>ã€<code>gazebo_plugins</code></li>
<li>æ–°å»ºurdfç›®å½•ç”¨æ¥ä¿å­˜urdfæ–‡ä»¶</li>
<li>æ–°å»ºurdfæ–‡ä»¶ç¼–å†™æœºå™¨äººæ¨¡å‹</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>vkrobot@vkrobot:~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>catkin_ws/src
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>catkin_create_pkg<span class="w"> </span>learning_urdf<span class="w"> </span>urdf<span class="w"> </span>xacro<span class="w"> </span>gazebo_ros<span class="w"> </span>gazebo_ros_control<span class="w"> </span>gazebo_plugins
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>mkdir<span class="w"> </span>learning_urdf/urdf
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/my_car.urdf
</span></code></pre></div>
<p><code>my_car.urdf</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_footprint&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">                </span><span class="nt">&lt;sphere</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;0.001&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_link2base_footprint&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_footprint&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0.085&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;0.15&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-20"><a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-26-21"><a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;red&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-22"><a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;1 0 0 0.5&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-23"><a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-26-24"><a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-26-25"><a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-26-26"><a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a>
</span><span id="__span-26-27"><a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;left_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-28"><a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-26-29"><a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-26-30"><a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;0.03&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;0.015&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-31"><a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-26-32"><a id="__codelineno-26-32" name="__codelineno-26-32" href="#__codelineno-26-32"></a><span class="w">            </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="na">rpy=</span><span class="s">&quot;1.5708 0 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-33"><a id="__codelineno-26-33" name="__codelineno-26-33" href="#__codelineno-26-33"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-34"><a id="__codelineno-26-34" name="__codelineno-26-34" href="#__codelineno-26-34"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 0 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-35"><a id="__codelineno-26-35" name="__codelineno-26-35" href="#__codelineno-26-35"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-26-36"><a id="__codelineno-26-36" name="__codelineno-26-36" href="#__codelineno-26-36"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-26-37"><a id="__codelineno-26-37" name="__codelineno-26-37" href="#__codelineno-26-37"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-26-38"><a id="__codelineno-26-38" name="__codelineno-26-38" href="#__codelineno-26-38"></a>
</span><span id="__span-26-39"><a id="__codelineno-26-39" name="__codelineno-26-39" href="#__codelineno-26-39"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;left_wheel2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;continuous&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-40"><a id="__codelineno-26-40" name="__codelineno-26-40" href="#__codelineno-26-40"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-41"><a id="__codelineno-26-41" name="__codelineno-26-41" href="#__codelineno-26-41"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;left_wheel&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-42"><a id="__codelineno-26-42" name="__codelineno-26-42" href="#__codelineno-26-42"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0.1 -0.055&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-43"><a id="__codelineno-26-43" name="__codelineno-26-43" href="#__codelineno-26-43"></a><span class="w">        </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 1 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-44"><a id="__codelineno-26-44" name="__codelineno-26-44" href="#__codelineno-26-44"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-26-45"><a id="__codelineno-26-45" name="__codelineno-26-45" href="#__codelineno-26-45"></a>
</span><span id="__span-26-46"><a id="__codelineno-26-46" name="__codelineno-26-46" href="#__codelineno-26-46"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;right_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-47"><a id="__codelineno-26-47" name="__codelineno-26-47" href="#__codelineno-26-47"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-26-48"><a id="__codelineno-26-48" name="__codelineno-26-48" href="#__codelineno-26-48"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-26-49"><a id="__codelineno-26-49" name="__codelineno-26-49" href="#__codelineno-26-49"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;0.03&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;0.015&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-50"><a id="__codelineno-26-50" name="__codelineno-26-50" href="#__codelineno-26-50"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-26-51"><a id="__codelineno-26-51" name="__codelineno-26-51" href="#__codelineno-26-51"></a><span class="w">            </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="na">rpy=</span><span class="s">&quot;1.5708 0 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-52"><a id="__codelineno-26-52" name="__codelineno-26-52" href="#__codelineno-26-52"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-53"><a id="__codelineno-26-53" name="__codelineno-26-53" href="#__codelineno-26-53"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 0 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-54"><a id="__codelineno-26-54" name="__codelineno-26-54" href="#__codelineno-26-54"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-26-55"><a id="__codelineno-26-55" name="__codelineno-26-55" href="#__codelineno-26-55"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-26-56"><a id="__codelineno-26-56" name="__codelineno-26-56" href="#__codelineno-26-56"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-26-57"><a id="__codelineno-26-57" name="__codelineno-26-57" href="#__codelineno-26-57"></a>
</span><span id="__span-26-58"><a id="__codelineno-26-58" name="__codelineno-26-58" href="#__codelineno-26-58"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;right_wheel2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;continuous&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-59"><a id="__codelineno-26-59" name="__codelineno-26-59" href="#__codelineno-26-59"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-60"><a id="__codelineno-26-60" name="__codelineno-26-60" href="#__codelineno-26-60"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;right_wheel&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-61"><a id="__codelineno-26-61" name="__codelineno-26-61" href="#__codelineno-26-61"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 -0.1 -0.055&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-62"><a id="__codelineno-26-62" name="__codelineno-26-62" href="#__codelineno-26-62"></a><span class="w">        </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 1 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-63"><a id="__codelineno-26-63" name="__codelineno-26-63" href="#__codelineno-26-63"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-26-64"><a id="__codelineno-26-64" name="__codelineno-26-64" href="#__codelineno-26-64"></a>
</span><span id="__span-26-65"><a id="__codelineno-26-65" name="__codelineno-26-65" href="#__codelineno-26-65"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;front_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-66"><a id="__codelineno-26-66" name="__codelineno-26-66" href="#__codelineno-26-66"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-26-67"><a id="__codelineno-26-67" name="__codelineno-26-67" href="#__codelineno-26-67"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-26-68"><a id="__codelineno-26-68" name="__codelineno-26-68" href="#__codelineno-26-68"></a><span class="w">                </span><span class="nt">&lt;sphere</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-69"><a id="__codelineno-26-69" name="__codelineno-26-69" href="#__codelineno-26-69"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-26-70"><a id="__codelineno-26-70" name="__codelineno-26-70" href="#__codelineno-26-70"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-71"><a id="__codelineno-26-71" name="__codelineno-26-71" href="#__codelineno-26-71"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;1 1 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-72"><a id="__codelineno-26-72" name="__codelineno-26-72" href="#__codelineno-26-72"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-26-73"><a id="__codelineno-26-73" name="__codelineno-26-73" href="#__codelineno-26-73"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-26-74"><a id="__codelineno-26-74" name="__codelineno-26-74" href="#__codelineno-26-74"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-26-75"><a id="__codelineno-26-75" name="__codelineno-26-75" href="#__codelineno-26-75"></a>
</span><span id="__span-26-76"><a id="__codelineno-26-76" name="__codelineno-26-76" href="#__codelineno-26-76"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;front_wheel2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;continuous&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-77"><a id="__codelineno-26-77" name="__codelineno-26-77" href="#__codelineno-26-77"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-78"><a id="__codelineno-26-78" name="__codelineno-26-78" href="#__codelineno-26-78"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;front_wheel&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-79"><a id="__codelineno-26-79" name="__codelineno-26-79" href="#__codelineno-26-79"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0.08 0 -0.075&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-80"><a id="__codelineno-26-80" name="__codelineno-26-80" href="#__codelineno-26-80"></a><span class="w">        </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;1 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-81"><a id="__codelineno-26-81" name="__codelineno-26-81" href="#__codelineno-26-81"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-26-82"><a id="__codelineno-26-82" name="__codelineno-26-82" href="#__codelineno-26-82"></a>
</span><span id="__span-26-83"><a id="__codelineno-26-83" name="__codelineno-26-83" href="#__codelineno-26-83"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;back_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-84"><a id="__codelineno-26-84" name="__codelineno-26-84" href="#__codelineno-26-84"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-26-85"><a id="__codelineno-26-85" name="__codelineno-26-85" href="#__codelineno-26-85"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-26-86"><a id="__codelineno-26-86" name="__codelineno-26-86" href="#__codelineno-26-86"></a><span class="w">                </span><span class="nt">&lt;sphere</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-87"><a id="__codelineno-26-87" name="__codelineno-26-87" href="#__codelineno-26-87"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-26-88"><a id="__codelineno-26-88" name="__codelineno-26-88" href="#__codelineno-26-88"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-89"><a id="__codelineno-26-89" name="__codelineno-26-89" href="#__codelineno-26-89"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;1 1 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-90"><a id="__codelineno-26-90" name="__codelineno-26-90" href="#__codelineno-26-90"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-26-91"><a id="__codelineno-26-91" name="__codelineno-26-91" href="#__codelineno-26-91"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-26-92"><a id="__codelineno-26-92" name="__codelineno-26-92" href="#__codelineno-26-92"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-26-93"><a id="__codelineno-26-93" name="__codelineno-26-93" href="#__codelineno-26-93"></a>
</span><span id="__span-26-94"><a id="__codelineno-26-94" name="__codelineno-26-94" href="#__codelineno-26-94"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;back_wheel2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;continuous&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-95"><a id="__codelineno-26-95" name="__codelineno-26-95" href="#__codelineno-26-95"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-96"><a id="__codelineno-26-96" name="__codelineno-26-96" href="#__codelineno-26-96"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;back_wheel&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-97"><a id="__codelineno-26-97" name="__codelineno-26-97" href="#__codelineno-26-97"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;-0.08 0 -0.075&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-98"><a id="__codelineno-26-98" name="__codelineno-26-98" href="#__codelineno-26-98"></a><span class="w">        </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;1 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-99"><a id="__codelineno-26-99" name="__codelineno-26-99" href="#__codelineno-26-99"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-26-100"><a id="__codelineno-26-100" name="__codelineno-26-100" href="#__codelineno-26-100"></a>
</span><span id="__span-26-101"><a id="__codelineno-26-101" name="__codelineno-26-101" href="#__codelineno-26-101"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-102"><a id="__codelineno-26-102" name="__codelineno-26-102" href="#__codelineno-26-102"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-26-103"><a id="__codelineno-26-103" name="__codelineno-26-103" href="#__codelineno-26-103"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-26-104"><a id="__codelineno-26-104" name="__codelineno-26-104" href="#__codelineno-26-104"></a><span class="w">                </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;0.01 0.03 0.03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-105"><a id="__codelineno-26-105" name="__codelineno-26-105" href="#__codelineno-26-105"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-26-106"><a id="__codelineno-26-106" name="__codelineno-26-106" href="#__codelineno-26-106"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-107"><a id="__codelineno-26-107" name="__codelineno-26-107" href="#__codelineno-26-107"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-108"><a id="__codelineno-26-108" name="__codelineno-26-108" href="#__codelineno-26-108"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-26-109"><a id="__codelineno-26-109" name="__codelineno-26-109" href="#__codelineno-26-109"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-26-110"><a id="__codelineno-26-110" name="__codelineno-26-110" href="#__codelineno-26-110"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-26-111"><a id="__codelineno-26-111" name="__codelineno-26-111" href="#__codelineno-26-111"></a>
</span><span id="__span-26-112"><a id="__codelineno-26-112" name="__codelineno-26-112" href="#__codelineno-26-112"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-113"><a id="__codelineno-26-113" name="__codelineno-26-113" href="#__codelineno-26-113"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-114"><a id="__codelineno-26-114" name="__codelineno-26-114" href="#__codelineno-26-114"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;camera&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-115"><a id="__codelineno-26-115" name="__codelineno-26-115" href="#__codelineno-26-115"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0.1 0 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-116"><a id="__codelineno-26-116" name="__codelineno-26-116" href="#__codelineno-26-116"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span><span class="w"> </span>
</span><span id="__span-26-117"><a id="__codelineno-26-117" name="__codelineno-26-117" href="#__codelineno-26-117"></a>
</span><span id="__span-26-118"><a id="__codelineno-26-118" name="__codelineno-26-118" href="#__codelineno-26-118"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-119"><a id="__codelineno-26-119" name="__codelineno-26-119" href="#__codelineno-26-119"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-26-120"><a id="__codelineno-26-120" name="__codelineno-26-120" href="#__codelineno-26-120"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-26-121"><a id="__codelineno-26-121" name="__codelineno-26-121" href="#__codelineno-26-121"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;0.02&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-122"><a id="__codelineno-26-122" name="__codelineno-26-122" href="#__codelineno-26-122"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-26-123"><a id="__codelineno-26-123" name="__codelineno-26-123" href="#__codelineno-26-123"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-124"><a id="__codelineno-26-124" name="__codelineno-26-124" href="#__codelineno-26-124"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-125"><a id="__codelineno-26-125" name="__codelineno-26-125" href="#__codelineno-26-125"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-26-126"><a id="__codelineno-26-126" name="__codelineno-26-126" href="#__codelineno-26-126"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-26-127"><a id="__codelineno-26-127" name="__codelineno-26-127" href="#__codelineno-26-127"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-26-128"><a id="__codelineno-26-128" name="__codelineno-26-128" href="#__codelineno-26-128"></a>
</span><span id="__span-26-129"><a id="__codelineno-26-129" name="__codelineno-26-129" href="#__codelineno-26-129"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-26-130"><a id="__codelineno-26-130" name="__codelineno-26-130" href="#__codelineno-26-130"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-131"><a id="__codelineno-26-131" name="__codelineno-26-131" href="#__codelineno-26-131"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;laser&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-132"><a id="__codelineno-26-132" name="__codelineno-26-132" href="#__codelineno-26-132"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0.08&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-26-133"><a id="__codelineno-26-133" name="__codelineno-26-133" href="#__codelineno-26-133"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span><span class="w"> </span>
</span><span id="__span-26-134"><a id="__codelineno-26-134" name="__codelineno-26-134" href="#__codelineno-26-134"></a>
</span><span id="__span-26-135"><a id="__codelineno-26-135" name="__codelineno-26-135" href="#__codelineno-26-135"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>æ–°å»ºlaunchæ–‡ä»¶å¯åŠ¨rvizå¹¶åŠ è½½æœºå™¨äººæ¨¡å‹</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>mkdir<span class="w"> </span>learning_urdf/launch
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/launch/start.launch
</span></code></pre></div>
<p><code>start.launch</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">    </span><span class="cm">&lt;!-- åŠ è½½æœºå™¨äººæ¨¡å‹ --&gt;</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;robot_description&quot;</span><span class="w"> </span><span class="na">textfile=</span><span class="s">&quot;$(find learning_urdf)/urdf/my_car.urdf&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span><span class="cm">&lt;!-- å¯åŠ¨rviz --&gt;</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;-d $(find learning_urdf)/config/my_car.rviz&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">    </span><span class="cm">&lt;!-- å¯åŠ¨æœºå™¨äººçŠ¶æ€å‘å¸ƒèŠ‚ç‚¹ä¸å…³èŠ‚çŠ¶æ€å‘å¸ƒèŠ‚ç‚¹ï¼Œå‘å¸ƒTF --&gt;</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<h3 id="414-xacrourdf">4.1.4 ä½¿ç”¨xacroä¼˜åŒ–urdfæ–‡ä»¶</h3>
<h4 id="_4">æ¦‚å¿µ</h4>
<p>Xacro æ˜¯ XML Macros çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§å¯ç¼–ç¨‹çš„ XML å®è¯­è¨€</p>
<h4 id="_5">åŸç†</h4>
<p>Xacro å¯ä»¥é€šè¿‡å£°æ˜å˜é‡ã€å°è£…å›ºå®šé€»è¾‘çš„æ–¹å¼å®ç°ç±»ä¼¼å‡½æ•°çš„åŠŸèƒ½ï¼Œä»è€Œæé«˜ä»£ç çš„å¤ç”¨ç‡</p>
<ol>
<li>å£°æ˜å˜é‡</li>
</ol>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;å˜é‡å&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;å˜é‡å€¼&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">    </span><span class="cm">&lt;!-- è°ƒç”¨ --&gt;</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">    </span>${å˜é‡å}
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">    </span><span class="cm">&lt;!-- æ•°å­¦è¿ç®— --&gt;</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="w">    </span>${æ•°å­¦è¡¨è¾¾å¼}
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>å°è£…å®</li>
</ol>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">    </span><span class="nt">&lt;xacro:macro</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;å®åç§°&quot;</span><span class="w"> </span><span class="na">params=</span><span class="s">&quot;å‚æ•°ï¼ˆå¤šä¸ªå‚æ•°ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ï¼‰&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">        </span>......
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="nt">&lt;/xacro:macro&gt;</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="cm">&lt;!-- è°ƒç”¨ --&gt;</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">    </span><span class="nt">&lt;xacro:å®åç§°</span><span class="w"> </span><span class="na">å‚æ•°1=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">å‚æ•°2=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>æ–‡ä»¶åŒ…å«</li>
</ol>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;xacroæ–‡ä»¶è·¯å¾„&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<h4 id="urdf">ä¼˜åŒ–URDFæ–‡ä»¶</h4>
<ol>
<li>æ–°å»ºå„éƒ¨åˆ†çš„xacroæ–‡ä»¶å¹¶æ•´åˆ</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/my_base.urdf.xacro
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/my_camera.urdf.xacro
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/my_laser.urdf.xacro
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/my_car.urdf.xacro
</span></code></pre></div>
<p><code>my_base.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_footprint&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">                </span><span class="nt">&lt;sphere</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;0.001&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;lidi&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_radius&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_length&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.15&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;wheel_radius&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;wheel_length&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.015&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;PI&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;3.1415927&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_link2base_footprint&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-18"><a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_footprint&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-19"><a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-20"><a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 ${base_length/2+lidi}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-21"><a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-33-22"><a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a>
</span><span id="__span-33-23"><a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-24"><a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-33-25"><a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-33-26"><a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${base_radius}&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;${base_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-27"><a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-33-28"><a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;red&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-29"><a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 0 0.5&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-30"><a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-33-31"><a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-33-32"><a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-33-33"><a id="__codelineno-33-33" name="__codelineno-33-33" href="#__codelineno-33-33"></a>
</span><span id="__span-33-34"><a id="__codelineno-33-34" name="__codelineno-33-34" href="#__codelineno-33-34"></a><span class="w">    </span><span class="nt">&lt;xacro:macro</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;wheel_func&quot;</span><span class="w"> </span><span class="na">params=</span><span class="s">&quot;wheel_name flag&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-35"><a id="__codelineno-33-35" name="__codelineno-33-35" href="#__codelineno-33-35"></a><span class="w">        </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-36"><a id="__codelineno-33-36" name="__codelineno-33-36" href="#__codelineno-33-36"></a><span class="w">            </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-33-37"><a id="__codelineno-33-37" name="__codelineno-33-37" href="#__codelineno-33-37"></a><span class="w">                </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-33-38"><a id="__codelineno-33-38" name="__codelineno-33-38" href="#__codelineno-33-38"></a><span class="w">                    </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${wheel_radius}&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;${wheel_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-39"><a id="__codelineno-33-39" name="__codelineno-33-39" href="#__codelineno-33-39"></a><span class="w">                </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-33-40"><a id="__codelineno-33-40" name="__codelineno-33-40" href="#__codelineno-33-40"></a><span class="w">                </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="na">rpy=</span><span class="s">&quot;${PI/2} 0 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-41"><a id="__codelineno-33-41" name="__codelineno-33-41" href="#__codelineno-33-41"></a><span class="w">                </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-42"><a id="__codelineno-33-42" name="__codelineno-33-42" href="#__codelineno-33-42"></a><span class="w">                    </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 0 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-43"><a id="__codelineno-33-43" name="__codelineno-33-43" href="#__codelineno-33-43"></a><span class="w">                </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-33-44"><a id="__codelineno-33-44" name="__codelineno-33-44" href="#__codelineno-33-44"></a><span class="w">            </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-33-45"><a id="__codelineno-33-45" name="__codelineno-33-45" href="#__codelineno-33-45"></a><span class="w">        </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-33-46"><a id="__codelineno-33-46" name="__codelineno-33-46" href="#__codelineno-33-46"></a>
</span><span id="__span-33-47"><a id="__codelineno-33-47" name="__codelineno-33-47" href="#__codelineno-33-47"></a><span class="w">        </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${wheel_name}_wheel2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;continuous&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-48"><a id="__codelineno-33-48" name="__codelineno-33-48" href="#__codelineno-33-48"></a><span class="w">            </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-49"><a id="__codelineno-33-49" name="__codelineno-33-49" href="#__codelineno-33-49"></a><span class="w">            </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-50"><a id="__codelineno-33-50" name="__codelineno-33-50" href="#__codelineno-33-50"></a><span class="w">            </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 ${flag*base_radius} ${-(lidi+base_length/2-wheel_radius)}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-51"><a id="__codelineno-33-51" name="__codelineno-33-51" href="#__codelineno-33-51"></a><span class="w">            </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 1 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-52"><a id="__codelineno-33-52" name="__codelineno-33-52" href="#__codelineno-33-52"></a><span class="w">        </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-33-53"><a id="__codelineno-33-53" name="__codelineno-33-53" href="#__codelineno-33-53"></a><span class="w">    </span><span class="nt">&lt;/xacro:macro&gt;</span>
</span><span id="__span-33-54"><a id="__codelineno-33-54" name="__codelineno-33-54" href="#__codelineno-33-54"></a><span class="w">    </span><span class="nt">&lt;xacro:wheel_func</span><span class="w"> </span><span class="na">wheel_name=</span><span class="s">&quot;left&quot;</span><span class="w"> </span><span class="na">flag=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-55"><a id="__codelineno-33-55" name="__codelineno-33-55" href="#__codelineno-33-55"></a><span class="w">    </span><span class="nt">&lt;xacro:wheel_func</span><span class="w"> </span><span class="na">wheel_name=</span><span class="s">&quot;right&quot;</span><span class="w"> </span><span class="na">flag=</span><span class="s">&quot;-1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-56"><a id="__codelineno-33-56" name="__codelineno-33-56" href="#__codelineno-33-56"></a>
</span><span id="__span-33-57"><a id="__codelineno-33-57" name="__codelineno-33-57" href="#__codelineno-33-57"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;universal_wheel_radius&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-58"><a id="__codelineno-33-58" name="__codelineno-33-58" href="#__codelineno-33-58"></a>
</span><span id="__span-33-59"><a id="__codelineno-33-59" name="__codelineno-33-59" href="#__codelineno-33-59"></a><span class="w">    </span><span class="nt">&lt;xacro:macro</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;universal_wheel_func&quot;</span><span class="w"> </span><span class="na">params=</span><span class="s">&quot;wheel_name flag&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-60"><a id="__codelineno-33-60" name="__codelineno-33-60" href="#__codelineno-33-60"></a><span class="w">        </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-61"><a id="__codelineno-33-61" name="__codelineno-33-61" href="#__codelineno-33-61"></a><span class="w">            </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-33-62"><a id="__codelineno-33-62" name="__codelineno-33-62" href="#__codelineno-33-62"></a><span class="w">                </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-33-63"><a id="__codelineno-33-63" name="__codelineno-33-63" href="#__codelineno-33-63"></a><span class="w">                    </span><span class="nt">&lt;sphere</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${universal_wheel_radius}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-64"><a id="__codelineno-33-64" name="__codelineno-33-64" href="#__codelineno-33-64"></a><span class="w">                </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-33-65"><a id="__codelineno-33-65" name="__codelineno-33-65" href="#__codelineno-33-65"></a><span class="w">                </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-66"><a id="__codelineno-33-66" name="__codelineno-33-66" href="#__codelineno-33-66"></a><span class="w">                    </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;1 1 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-67"><a id="__codelineno-33-67" name="__codelineno-33-67" href="#__codelineno-33-67"></a><span class="w">                </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-33-68"><a id="__codelineno-33-68" name="__codelineno-33-68" href="#__codelineno-33-68"></a><span class="w">            </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-33-69"><a id="__codelineno-33-69" name="__codelineno-33-69" href="#__codelineno-33-69"></a><span class="w">        </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-33-70"><a id="__codelineno-33-70" name="__codelineno-33-70" href="#__codelineno-33-70"></a>
</span><span id="__span-33-71"><a id="__codelineno-33-71" name="__codelineno-33-71" href="#__codelineno-33-71"></a><span class="w">        </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${wheel_name}_wheel2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;continuous&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-72"><a id="__codelineno-33-72" name="__codelineno-33-72" href="#__codelineno-33-72"></a><span class="w">            </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-73"><a id="__codelineno-33-73" name="__codelineno-33-73" href="#__codelineno-33-73"></a><span class="w">            </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-74"><a id="__codelineno-33-74" name="__codelineno-33-74" href="#__codelineno-33-74"></a><span class="w">            </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;${flag*(base_radius-0.02)} 0 ${-(base_length/2+lidi-universal_wheel_radius)}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-75"><a id="__codelineno-33-75" name="__codelineno-33-75" href="#__codelineno-33-75"></a><span class="w">            </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;1 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-76"><a id="__codelineno-33-76" name="__codelineno-33-76" href="#__codelineno-33-76"></a><span class="w">        </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-33-77"><a id="__codelineno-33-77" name="__codelineno-33-77" href="#__codelineno-33-77"></a><span class="w">    </span><span class="nt">&lt;/xacro:macro&gt;</span>
</span><span id="__span-33-78"><a id="__codelineno-33-78" name="__codelineno-33-78" href="#__codelineno-33-78"></a><span class="w">    </span><span class="nt">&lt;xacro:universal_wheel_func</span><span class="w"> </span><span class="na">wheel_name=</span><span class="s">&quot;front&quot;</span><span class="w"> </span><span class="na">flag=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-79"><a id="__codelineno-33-79" name="__codelineno-33-79" href="#__codelineno-33-79"></a><span class="w">    </span><span class="nt">&lt;xacro:universal_wheel_func</span><span class="w"> </span><span class="na">wheel_name=</span><span class="s">&quot;back&quot;</span><span class="w"> </span><span class="na">flag=</span><span class="s">&quot;-1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-33-80"><a id="__codelineno-33-80" name="__codelineno-33-80" href="#__codelineno-33-80"></a>
</span><span id="__span-33-81"><a id="__codelineno-33-81" name="__codelineno-33-81" href="#__codelineno-33-81"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<p><code>my_camera.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_camera&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_length&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_width&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_height&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_x&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${base_radius}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_y&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_z&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="w">                </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;${camera_length} ${camera_width} ${camera_height}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-34-14"><a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-34-15"><a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-16"><a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-34-17"><a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-34-18"><a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-34-19"><a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a>
</span><span id="__span-34-20"><a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-34-21"><a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-22"><a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;camera&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-23"><a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;${camera_x} ${camera_y} ${camera_z}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-34-24"><a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-34-25"><a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<p><code>my_laser.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_laser&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser_radius&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.02&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser_length&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${laser_radius}&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;${laser_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-35-14"><a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-35-15"><a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-35-16"><a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a>
</span><span id="__span-35-17"><a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-35-18"><a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-35-19"><a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;laser&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-35-20"><a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 ${(base_length+laser_length)/2}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-35-21"><a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span><span class="w"> </span>
</span><span id="__span-35-22"><a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<p><code>my_car.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;my_base.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;my_camera.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;my_laser.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>æ–°å»ºlaunchæ–‡ä»¶åŠ è½½xacroæ¨¡å‹</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/launch/start_xacro.launch
</span></code></pre></div>
<p><code>start_xacro.launch</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;robot_description&quot;</span><span class="w"> </span><span class="na">command=</span><span class="s">&quot;$(find xacro)/xacro $(find demo_urdf)/urdf/my_car.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;-d $(find demo_urdf)/config/my_car.rviz&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<h2 id="42-gazebo">4.2 Gazeboä»¿çœŸ</h2>
<h3 id="421-gazebo">4.2.1 æœºå™¨äººæ¨¡å‹æ·»åŠ gazeboå±æ€§</h3>
<blockquote>
<p>å½“URDFéœ€è¦ä¸Gazeboé›†æˆæ—¶ï¼Œå¿…é¡»è¦æ·»åŠ <code>&lt;collision&gt;</code>ä¸<code>&lt;inertial&gt;</code>æ ‡ç­¾ï¼Œå¹¶ä¸”ä½¿ç”¨<code>&lt;gazebo&gt;</code>æ ‡ç­¾é‡æ–°è®¾ç½®linké¢œè‰²</p>
</blockquote>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/base_collision.urdf.xacro
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/my_base_gazebo.urdf.xacro
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/my_camera_gazebo.urdf.xacro
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/my_laser_gazebo.urdf.xacro
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/my_car_gazebo.urdf.xacro
</span></code></pre></div>
<p><code>base_collision.urdf.xacro</code> ---&gt; å°è£…æƒ¯æ€§çŸ©é˜µç®—æ³•çš„xacroæ–‡ä»¶</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="w">    </span><span class="nt">&lt;xacro:macro</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sphere_inertial_matrix&quot;</span><span class="w"> </span><span class="na">params=</span><span class="s">&quot;m r&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">        </span><span class="nt">&lt;inertial&gt;</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">            </span><span class="nt">&lt;mass</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${m}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">            </span><span class="nt">&lt;inertia</span><span class="w"> </span><span class="na">ixx=</span><span class="s">&quot;${2*m*r*r/5}&quot;</span><span class="w"> </span><span class="na">ixy=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">ixz=</span><span class="s">&quot;0&quot;</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="w">                            </span><span class="na">iyy=</span><span class="s">&quot;${2*m*r*r/5}&quot;</span><span class="w"> </span><span class="na">iyz=</span><span class="s">&quot;0&quot;</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="w">                            </span><span class="na">izz=</span><span class="s">&quot;${2*m*r*r/5}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="w">        </span><span class="nt">&lt;/inertial&gt;</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="w">    </span><span class="nt">&lt;/xacro:macro&gt;</span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="w">    </span><span class="nt">&lt;xacro:macro</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;cylinder_inertial_matrix&quot;</span><span class="w"> </span><span class="na">params=</span><span class="s">&quot;m r h&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="w">        </span><span class="nt">&lt;inertial&gt;</span>
</span><span id="__span-40-13"><a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="w">            </span><span class="nt">&lt;mass</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${m}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-40-14"><a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="w">            </span><span class="nt">&lt;inertia</span><span class="w"> </span><span class="na">ixx=</span><span class="s">&quot;${m*(3*r*r+h*h)/12}&quot;</span><span class="w"> </span><span class="na">ixy=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">ixz=</span><span class="s">&quot;0&quot;</span>
</span><span id="__span-40-15"><a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="w">                            </span><span class="na">iyy=</span><span class="s">&quot;${m*(3*r*r+h*h)}&quot;</span><span class="w"> </span><span class="na">iyz=</span><span class="s">&quot;0&quot;</span>
</span><span id="__span-40-16"><a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="w">                            </span><span class="na">izz=</span><span class="s">&quot;${m*r*r/2}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-40-17"><a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a><span class="w">        </span><span class="nt">&lt;/inertial&gt;</span>
</span><span id="__span-40-18"><a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a><span class="w">    </span><span class="nt">&lt;/xacro:macro&gt;</span>
</span><span id="__span-40-19"><a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a>
</span><span id="__span-40-20"><a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a><span class="w">    </span><span class="nt">&lt;xacro:macro</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;box_inertial_matrix&quot;</span><span class="w"> </span><span class="na">params=</span><span class="s">&quot;m l w h&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-40-21"><a id="__codelineno-40-21" name="__codelineno-40-21" href="#__codelineno-40-21"></a><span class="w">        </span><span class="nt">&lt;inertial&gt;</span>
</span><span id="__span-40-22"><a id="__codelineno-40-22" name="__codelineno-40-22" href="#__codelineno-40-22"></a><span class="w">            </span><span class="nt">&lt;mass</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${m}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-40-23"><a id="__codelineno-40-23" name="__codelineno-40-23" href="#__codelineno-40-23"></a><span class="w">            </span><span class="nt">&lt;inertia</span><span class="w"> </span><span class="na">ixx=</span><span class="s">&quot;${m*(h*h+l*l)/12}&quot;</span><span class="w"> </span><span class="na">ixy=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">ixz=</span><span class="s">&quot;0&quot;</span>
</span><span id="__span-40-24"><a id="__codelineno-40-24" name="__codelineno-40-24" href="#__codelineno-40-24"></a><span class="w">                            </span><span class="na">iyy=</span><span class="s">&quot;${m*(w*w+l*l)/12}&quot;</span><span class="w"> </span><span class="na">iyz=</span><span class="s">&quot;0&quot;</span>
</span><span id="__span-40-25"><a id="__codelineno-40-25" name="__codelineno-40-25" href="#__codelineno-40-25"></a><span class="w">                            </span><span class="na">izz=</span><span class="s">&quot;${m*(w*w+h*h)/12}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-40-26"><a id="__codelineno-40-26" name="__codelineno-40-26" href="#__codelineno-40-26"></a><span class="w">        </span><span class="nt">&lt;/inertial&gt;</span>
</span><span id="__span-40-27"><a id="__codelineno-40-27" name="__codelineno-40-27" href="#__codelineno-40-27"></a><span class="w">    </span><span class="nt">&lt;/xacro:macro&gt;</span>
</span><span id="__span-40-28"><a id="__codelineno-40-28" name="__codelineno-40-28" href="#__codelineno-40-28"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<p><code>my_base_gazebo.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_footprint&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">                </span><span class="nt">&lt;sphere</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;0.001&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="w">    </span><span class="nt">&lt;gazebo</span><span class="w"> </span><span class="na">reference=</span><span class="s">&quot;base_footprint&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">        </span><span class="nt">&lt;turnGravityOff&gt;</span>false<span class="nt">&lt;/turnGravityOff&gt;</span>
</span><span id="__span-41-12"><a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="w">    </span><span class="nt">&lt;/gazebo&gt;</span>
</span><span id="__span-41-13"><a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a>
</span><span id="__span-41-14"><a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;lidi&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-15"><a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_radius&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-16"><a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_length&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.15&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-17"><a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;wheel_radius&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-18"><a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;wheel_length&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.015&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-19"><a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;PI&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;3.1415927&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-20"><a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_link_m&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;3.5&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-21"><a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;wheel_m&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.05&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-22"><a id="__codelineno-41-22" name="__codelineno-41-22" href="#__codelineno-41-22"></a>
</span><span id="__span-41-23"><a id="__codelineno-41-23" name="__codelineno-41-23" href="#__codelineno-41-23"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_link2base_footprint&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-24"><a id="__codelineno-41-24" name="__codelineno-41-24" href="#__codelineno-41-24"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_footprint&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-25"><a id="__codelineno-41-25" name="__codelineno-41-25" href="#__codelineno-41-25"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-26"><a id="__codelineno-41-26" name="__codelineno-41-26" href="#__codelineno-41-26"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 ${base_length/2+lidi}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-27"><a id="__codelineno-41-27" name="__codelineno-41-27" href="#__codelineno-41-27"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-41-28"><a id="__codelineno-41-28" name="__codelineno-41-28" href="#__codelineno-41-28"></a>
</span><span id="__span-41-29"><a id="__codelineno-41-29" name="__codelineno-41-29" href="#__codelineno-41-29"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-30"><a id="__codelineno-41-30" name="__codelineno-41-30" href="#__codelineno-41-30"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-41-31"><a id="__codelineno-41-31" name="__codelineno-41-31" href="#__codelineno-41-31"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-41-32"><a id="__codelineno-41-32" name="__codelineno-41-32" href="#__codelineno-41-32"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${base_radius}&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;${base_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-33"><a id="__codelineno-41-33" name="__codelineno-41-33" href="#__codelineno-41-33"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-41-34"><a id="__codelineno-41-34" name="__codelineno-41-34" href="#__codelineno-41-34"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;red&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-35"><a id="__codelineno-41-35" name="__codelineno-41-35" href="#__codelineno-41-35"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 0 0.5&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-36"><a id="__codelineno-41-36" name="__codelineno-41-36" href="#__codelineno-41-36"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-41-37"><a id="__codelineno-41-37" name="__codelineno-41-37" href="#__codelineno-41-37"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-41-38"><a id="__codelineno-41-38" name="__codelineno-41-38" href="#__codelineno-41-38"></a><span class="w">        </span><span class="nt">&lt;collision&gt;</span>
</span><span id="__span-41-39"><a id="__codelineno-41-39" name="__codelineno-41-39" href="#__codelineno-41-39"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-41-40"><a id="__codelineno-41-40" name="__codelineno-41-40" href="#__codelineno-41-40"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${base_radius}&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;${base_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-41"><a id="__codelineno-41-41" name="__codelineno-41-41" href="#__codelineno-41-41"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-41-42"><a id="__codelineno-41-42" name="__codelineno-41-42" href="#__codelineno-41-42"></a><span class="w">        </span><span class="nt">&lt;/collision&gt;</span>
</span><span id="__span-41-43"><a id="__codelineno-41-43" name="__codelineno-41-43" href="#__codelineno-41-43"></a><span class="w">        </span><span class="nt">&lt;xacro:cylinder_inertial_matrix</span><span class="w"> </span><span class="na">m=</span><span class="s">&quot;${base_link_m}&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;${base_radius}&quot;</span><span class="w"> </span><span class="na">h=</span><span class="s">&quot;${base_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-44"><a id="__codelineno-41-44" name="__codelineno-41-44" href="#__codelineno-41-44"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-41-45"><a id="__codelineno-41-45" name="__codelineno-41-45" href="#__codelineno-41-45"></a>
</span><span id="__span-41-46"><a id="__codelineno-41-46" name="__codelineno-41-46" href="#__codelineno-41-46"></a><span class="w">    </span><span class="nt">&lt;gazebo</span><span class="w"> </span><span class="na">reference=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-47"><a id="__codelineno-41-47" name="__codelineno-41-47" href="#__codelineno-41-47"></a><span class="w">        </span><span class="nt">&lt;material&gt;</span>Gazebo/Gray<span class="nt">&lt;/material&gt;</span>
</span><span id="__span-41-48"><a id="__codelineno-41-48" name="__codelineno-41-48" href="#__codelineno-41-48"></a><span class="w">    </span><span class="nt">&lt;/gazebo&gt;</span>
</span><span id="__span-41-49"><a id="__codelineno-41-49" name="__codelineno-41-49" href="#__codelineno-41-49"></a>
</span><span id="__span-41-50"><a id="__codelineno-41-50" name="__codelineno-41-50" href="#__codelineno-41-50"></a><span class="w">    </span><span class="nt">&lt;xacro:macro</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;wheel_func&quot;</span><span class="w"> </span><span class="na">params=</span><span class="s">&quot;wheel_name flag&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-51"><a id="__codelineno-41-51" name="__codelineno-41-51" href="#__codelineno-41-51"></a><span class="w">        </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-52"><a id="__codelineno-41-52" name="__codelineno-41-52" href="#__codelineno-41-52"></a><span class="w">            </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-41-53"><a id="__codelineno-41-53" name="__codelineno-41-53" href="#__codelineno-41-53"></a><span class="w">                </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-41-54"><a id="__codelineno-41-54" name="__codelineno-41-54" href="#__codelineno-41-54"></a><span class="w">                    </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${wheel_radius}&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;${wheel_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-55"><a id="__codelineno-41-55" name="__codelineno-41-55" href="#__codelineno-41-55"></a><span class="w">                </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-41-56"><a id="__codelineno-41-56" name="__codelineno-41-56" href="#__codelineno-41-56"></a><span class="w">                </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="na">rpy=</span><span class="s">&quot;${PI/2} 0 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-57"><a id="__codelineno-41-57" name="__codelineno-41-57" href="#__codelineno-41-57"></a><span class="w">                </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-58"><a id="__codelineno-41-58" name="__codelineno-41-58" href="#__codelineno-41-58"></a><span class="w">                    </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 0 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-59"><a id="__codelineno-41-59" name="__codelineno-41-59" href="#__codelineno-41-59"></a><span class="w">                </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-41-60"><a id="__codelineno-41-60" name="__codelineno-41-60" href="#__codelineno-41-60"></a><span class="w">            </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-41-61"><a id="__codelineno-41-61" name="__codelineno-41-61" href="#__codelineno-41-61"></a><span class="w">            </span><span class="nt">&lt;collision&gt;</span>
</span><span id="__span-41-62"><a id="__codelineno-41-62" name="__codelineno-41-62" href="#__codelineno-41-62"></a><span class="w">                </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-41-63"><a id="__codelineno-41-63" name="__codelineno-41-63" href="#__codelineno-41-63"></a><span class="w">                    </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${wheel_radius}&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;${wheel_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-64"><a id="__codelineno-41-64" name="__codelineno-41-64" href="#__codelineno-41-64"></a><span class="w">                </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-41-65"><a id="__codelineno-41-65" name="__codelineno-41-65" href="#__codelineno-41-65"></a><span class="w">                </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="w"> </span><span class="na">rpy=</span><span class="s">&quot;${PI/2} 0 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-66"><a id="__codelineno-41-66" name="__codelineno-41-66" href="#__codelineno-41-66"></a><span class="w">            </span><span class="nt">&lt;/collision&gt;</span>
</span><span id="__span-41-67"><a id="__codelineno-41-67" name="__codelineno-41-67" href="#__codelineno-41-67"></a><span class="w">            </span><span class="nt">&lt;xacro:cylinder_inertial_matrix</span><span class="w"> </span><span class="na">m=</span><span class="s">&quot;${wheel_m}&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;${wheel_radius}&quot;</span><span class="w"> </span><span class="na">h=</span><span class="s">&quot;${wheel_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-68"><a id="__codelineno-41-68" name="__codelineno-41-68" href="#__codelineno-41-68"></a><span class="w">        </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-41-69"><a id="__codelineno-41-69" name="__codelineno-41-69" href="#__codelineno-41-69"></a>
</span><span id="__span-41-70"><a id="__codelineno-41-70" name="__codelineno-41-70" href="#__codelineno-41-70"></a><span class="w">        </span><span class="nt">&lt;gazebo</span><span class="w"> </span><span class="na">reference=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-71"><a id="__codelineno-41-71" name="__codelineno-41-71" href="#__codelineno-41-71"></a><span class="w">            </span><span class="nt">&lt;material&gt;</span>Gazebo/Black<span class="nt">&lt;/material&gt;</span>
</span><span id="__span-41-72"><a id="__codelineno-41-72" name="__codelineno-41-72" href="#__codelineno-41-72"></a><span class="w">        </span><span class="nt">&lt;/gazebo&gt;</span>
</span><span id="__span-41-73"><a id="__codelineno-41-73" name="__codelineno-41-73" href="#__codelineno-41-73"></a>
</span><span id="__span-41-74"><a id="__codelineno-41-74" name="__codelineno-41-74" href="#__codelineno-41-74"></a><span class="w">        </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${wheel_name}_wheel2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;continuous&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-75"><a id="__codelineno-41-75" name="__codelineno-41-75" href="#__codelineno-41-75"></a><span class="w">            </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-76"><a id="__codelineno-41-76" name="__codelineno-41-76" href="#__codelineno-41-76"></a><span class="w">            </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-77"><a id="__codelineno-41-77" name="__codelineno-41-77" href="#__codelineno-41-77"></a><span class="w">            </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 ${flag*base_radius} ${-(lidi+base_length/2-wheel_radius)}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-78"><a id="__codelineno-41-78" name="__codelineno-41-78" href="#__codelineno-41-78"></a><span class="w">            </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 1 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-79"><a id="__codelineno-41-79" name="__codelineno-41-79" href="#__codelineno-41-79"></a><span class="w">        </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-41-80"><a id="__codelineno-41-80" name="__codelineno-41-80" href="#__codelineno-41-80"></a><span class="w">    </span><span class="nt">&lt;/xacro:macro&gt;</span>
</span><span id="__span-41-81"><a id="__codelineno-41-81" name="__codelineno-41-81" href="#__codelineno-41-81"></a><span class="w">    </span><span class="nt">&lt;xacro:wheel_func</span><span class="w"> </span><span class="na">wheel_name=</span><span class="s">&quot;left&quot;</span><span class="w"> </span><span class="na">flag=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-82"><a id="__codelineno-41-82" name="__codelineno-41-82" href="#__codelineno-41-82"></a><span class="w">    </span><span class="nt">&lt;xacro:wheel_func</span><span class="w"> </span><span class="na">wheel_name=</span><span class="s">&quot;right&quot;</span><span class="w"> </span><span class="na">flag=</span><span class="s">&quot;-1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-83"><a id="__codelineno-41-83" name="__codelineno-41-83" href="#__codelineno-41-83"></a>
</span><span id="__span-41-84"><a id="__codelineno-41-84" name="__codelineno-41-84" href="#__codelineno-41-84"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;universal_wheel_radius&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-85"><a id="__codelineno-41-85" name="__codelineno-41-85" href="#__codelineno-41-85"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;universal_wheel_m&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-86"><a id="__codelineno-41-86" name="__codelineno-41-86" href="#__codelineno-41-86"></a>
</span><span id="__span-41-87"><a id="__codelineno-41-87" name="__codelineno-41-87" href="#__codelineno-41-87"></a><span class="w">    </span><span class="nt">&lt;xacro:macro</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;universal_wheel_func&quot;</span><span class="w"> </span><span class="na">params=</span><span class="s">&quot;wheel_name flag&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-88"><a id="__codelineno-41-88" name="__codelineno-41-88" href="#__codelineno-41-88"></a><span class="w">        </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-89"><a id="__codelineno-41-89" name="__codelineno-41-89" href="#__codelineno-41-89"></a><span class="w">            </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-41-90"><a id="__codelineno-41-90" name="__codelineno-41-90" href="#__codelineno-41-90"></a><span class="w">                </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-41-91"><a id="__codelineno-41-91" name="__codelineno-41-91" href="#__codelineno-41-91"></a><span class="w">                    </span><span class="nt">&lt;sphere</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${universal_wheel_radius}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-92"><a id="__codelineno-41-92" name="__codelineno-41-92" href="#__codelineno-41-92"></a><span class="w">                </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-41-93"><a id="__codelineno-41-93" name="__codelineno-41-93" href="#__codelineno-41-93"></a><span class="w">                </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-94"><a id="__codelineno-41-94" name="__codelineno-41-94" href="#__codelineno-41-94"></a><span class="w">                    </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;1 1 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-95"><a id="__codelineno-41-95" name="__codelineno-41-95" href="#__codelineno-41-95"></a><span class="w">                </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-41-96"><a id="__codelineno-41-96" name="__codelineno-41-96" href="#__codelineno-41-96"></a><span class="w">            </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-41-97"><a id="__codelineno-41-97" name="__codelineno-41-97" href="#__codelineno-41-97"></a><span class="w">            </span><span class="nt">&lt;collision&gt;</span>
</span><span id="__span-41-98"><a id="__codelineno-41-98" name="__codelineno-41-98" href="#__codelineno-41-98"></a><span class="w">                </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-41-99"><a id="__codelineno-41-99" name="__codelineno-41-99" href="#__codelineno-41-99"></a><span class="w">                    </span><span class="nt">&lt;sphere</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${universal_wheel_radius}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-100"><a id="__codelineno-41-100" name="__codelineno-41-100" href="#__codelineno-41-100"></a><span class="w">                </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-41-101"><a id="__codelineno-41-101" name="__codelineno-41-101" href="#__codelineno-41-101"></a><span class="w">            </span><span class="nt">&lt;/collision&gt;</span>
</span><span id="__span-41-102"><a id="__codelineno-41-102" name="__codelineno-41-102" href="#__codelineno-41-102"></a><span class="w">            </span><span class="nt">&lt;xacro:sphere_inertial_matrix</span><span class="w"> </span><span class="na">m=</span><span class="s">&quot;${universal_wheel_m}&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;${universal_wheel_radius}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-103"><a id="__codelineno-41-103" name="__codelineno-41-103" href="#__codelineno-41-103"></a><span class="w">        </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-41-104"><a id="__codelineno-41-104" name="__codelineno-41-104" href="#__codelineno-41-104"></a>
</span><span id="__span-41-105"><a id="__codelineno-41-105" name="__codelineno-41-105" href="#__codelineno-41-105"></a><span class="w">        </span><span class="nt">&lt;gazebo</span><span class="w"> </span><span class="na">reference=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-106"><a id="__codelineno-41-106" name="__codelineno-41-106" href="#__codelineno-41-106"></a><span class="w">            </span><span class="nt">&lt;material&gt;</span>Gazebo/White<span class="nt">&lt;/material&gt;</span>
</span><span id="__span-41-107"><a id="__codelineno-41-107" name="__codelineno-41-107" href="#__codelineno-41-107"></a><span class="w">        </span><span class="nt">&lt;/gazebo&gt;</span>
</span><span id="__span-41-108"><a id="__codelineno-41-108" name="__codelineno-41-108" href="#__codelineno-41-108"></a>
</span><span id="__span-41-109"><a id="__codelineno-41-109" name="__codelineno-41-109" href="#__codelineno-41-109"></a><span class="w">        </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${wheel_name}_wheel2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;continuous&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-41-110"><a id="__codelineno-41-110" name="__codelineno-41-110" href="#__codelineno-41-110"></a><span class="w">            </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-111"><a id="__codelineno-41-111" name="__codelineno-41-111" href="#__codelineno-41-111"></a><span class="w">            </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;${wheel_name}_wheel&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-112"><a id="__codelineno-41-112" name="__codelineno-41-112" href="#__codelineno-41-112"></a><span class="w">            </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;${flag*(base_radius-0.02)} 0 ${-(base_length/2+lidi-universal_wheel_radius)}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-113"><a id="__codelineno-41-113" name="__codelineno-41-113" href="#__codelineno-41-113"></a><span class="w">            </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 1 0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-114"><a id="__codelineno-41-114" name="__codelineno-41-114" href="#__codelineno-41-114"></a><span class="w">        </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-41-115"><a id="__codelineno-41-115" name="__codelineno-41-115" href="#__codelineno-41-115"></a><span class="w">    </span><span class="nt">&lt;/xacro:macro&gt;</span>
</span><span id="__span-41-116"><a id="__codelineno-41-116" name="__codelineno-41-116" href="#__codelineno-41-116"></a><span class="w">    </span><span class="nt">&lt;xacro:universal_wheel_func</span><span class="w"> </span><span class="na">wheel_name=</span><span class="s">&quot;front&quot;</span><span class="w"> </span><span class="na">flag=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-117"><a id="__codelineno-41-117" name="__codelineno-41-117" href="#__codelineno-41-117"></a><span class="w">    </span><span class="nt">&lt;xacro:universal_wheel_func</span><span class="w"> </span><span class="na">wheel_name=</span><span class="s">&quot;back&quot;</span><span class="w"> </span><span class="na">flag=</span><span class="s">&quot;-1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-41-118"><a id="__codelineno-41-118" name="__codelineno-41-118" href="#__codelineno-41-118"></a>
</span><span id="__span-41-119"><a id="__codelineno-41-119" name="__codelineno-41-119" href="#__codelineno-41-119"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<p><code>my_camera_gazebo.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_camera&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_length&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_width&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_height&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.03&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_x&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${base_radius}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_y&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_z&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_m&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-9"><a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a>
</span><span id="__span-42-10"><a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-42-11"><a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-42-12"><a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-42-13"><a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="w">                </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;${camera_length} ${camera_width} ${camera_height}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-14"><a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-42-15"><a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-42-16"><a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-17"><a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-42-18"><a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-42-19"><a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a><span class="w">        </span><span class="nt">&lt;collision&gt;</span>
</span><span id="__span-42-20"><a id="__codelineno-42-20" name="__codelineno-42-20" href="#__codelineno-42-20"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-42-21"><a id="__codelineno-42-21" name="__codelineno-42-21" href="#__codelineno-42-21"></a><span class="w">                </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;${camera_length} ${camera_width} ${camera_height}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-22"><a id="__codelineno-42-22" name="__codelineno-42-22" href="#__codelineno-42-22"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-42-23"><a id="__codelineno-42-23" name="__codelineno-42-23" href="#__codelineno-42-23"></a><span class="w">        </span><span class="nt">&lt;/collision&gt;</span>
</span><span id="__span-42-24"><a id="__codelineno-42-24" name="__codelineno-42-24" href="#__codelineno-42-24"></a><span class="w">        </span><span class="nt">&lt;xacro:box_inertial_matrix</span><span class="w"> </span><span class="na">m=</span><span class="s">&quot;${camera_m}&quot;</span><span class="w"> </span><span class="na">l=</span><span class="s">&quot;${camera_length}&quot;</span><span class="w"> </span><span class="na">w=</span><span class="s">&quot;${camera_width}&quot;</span><span class="w"> </span><span class="na">h=</span><span class="s">&quot;${camera_height}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-25"><a id="__codelineno-42-25" name="__codelineno-42-25" href="#__codelineno-42-25"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-42-26"><a id="__codelineno-42-26" name="__codelineno-42-26" href="#__codelineno-42-26"></a>
</span><span id="__span-42-27"><a id="__codelineno-42-27" name="__codelineno-42-27" href="#__codelineno-42-27"></a><span class="w">    </span><span class="nt">&lt;gazebo</span><span class="w"> </span><span class="na">reference=</span><span class="s">&quot;camera&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-42-28"><a id="__codelineno-42-28" name="__codelineno-42-28" href="#__codelineno-42-28"></a><span class="w">        </span><span class="nt">&lt;material&gt;</span>Gazebo/Blue<span class="nt">&lt;/material&gt;</span>
</span><span id="__span-42-29"><a id="__codelineno-42-29" name="__codelineno-42-29" href="#__codelineno-42-29"></a><span class="w">    </span><span class="nt">&lt;/gazebo&gt;</span>
</span><span id="__span-42-30"><a id="__codelineno-42-30" name="__codelineno-42-30" href="#__codelineno-42-30"></a>
</span><span id="__span-42-31"><a id="__codelineno-42-31" name="__codelineno-42-31" href="#__codelineno-42-31"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-42-32"><a id="__codelineno-42-32" name="__codelineno-42-32" href="#__codelineno-42-32"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-33"><a id="__codelineno-42-33" name="__codelineno-42-33" href="#__codelineno-42-33"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;camera&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-34"><a id="__codelineno-42-34" name="__codelineno-42-34" href="#__codelineno-42-34"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;${camera_x} ${camera_y} ${camera_z}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-42-35"><a id="__codelineno-42-35" name="__codelineno-42-35" href="#__codelineno-42-35"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-42-36"><a id="__codelineno-42-36" name="__codelineno-42-36" href="#__codelineno-42-36"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<p><code>my_laser_gazebo.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_laser&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser_radius&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.02&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser_length&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.01&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">    </span><span class="nt">&lt;xacro:property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser_m&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="w">    </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">        </span><span class="nt">&lt;visual&gt;</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${laser_radius}&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;${laser_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-43-12"><a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a><span class="w">            </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-43-13"><a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a><span class="w">                </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">&quot;0 0 1 1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-14"><a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="w">            </span><span class="nt">&lt;/material&gt;</span>
</span><span id="__span-43-15"><a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a><span class="w">        </span><span class="nt">&lt;/visual&gt;</span>
</span><span id="__span-43-16"><a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="w">        </span><span class="nt">&lt;collision&gt;</span>
</span><span id="__span-43-17"><a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a><span class="w">            </span><span class="nt">&lt;geometry&gt;</span>
</span><span id="__span-43-18"><a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a><span class="w">                </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">&quot;${laser_radius}&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;${laser_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-19"><a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a><span class="w">            </span><span class="nt">&lt;/geometry&gt;</span>
</span><span id="__span-43-20"><a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a><span class="w">        </span><span class="nt">&lt;/collision&gt;</span>
</span><span id="__span-43-21"><a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a><span class="w">        </span><span class="nt">&lt;xacro:cylinder_inertial_matrix</span><span class="w"> </span><span class="na">m=</span><span class="s">&quot;${laser_m}&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;${laser_radius}&quot;</span><span class="w"> </span><span class="na">h=</span><span class="s">&quot;${laser_length}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-22"><a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a><span class="w">    </span><span class="nt">&lt;/link&gt;</span>
</span><span id="__span-43-23"><a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a>
</span><span id="__span-43-24"><a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a><span class="w">    </span><span class="nt">&lt;gazebo</span><span class="w"> </span><span class="na">reference=</span><span class="s">&quot;laser&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-43-25"><a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a><span class="w">        </span><span class="nt">&lt;material&gt;</span>Gazebo/Blue<span class="nt">&lt;/material&gt;</span>
</span><span id="__span-43-26"><a id="__codelineno-43-26" name="__codelineno-43-26" href="#__codelineno-43-26"></a><span class="w">    </span><span class="nt">&lt;/gazebo&gt;</span>
</span><span id="__span-43-27"><a id="__codelineno-43-27" name="__codelineno-43-27" href="#__codelineno-43-27"></a>
</span><span id="__span-43-28"><a id="__codelineno-43-28" name="__codelineno-43-28" href="#__codelineno-43-28"></a><span class="w">    </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;laser2base_link&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-43-29"><a id="__codelineno-43-29" name="__codelineno-43-29" href="#__codelineno-43-29"></a><span class="w">        </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-30"><a id="__codelineno-43-30" name="__codelineno-43-30" href="#__codelineno-43-30"></a><span class="w">        </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;laser&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-31"><a id="__codelineno-43-31" name="__codelineno-43-31" href="#__codelineno-43-31"></a><span class="w">        </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 ${(base_length+laser_length)/2}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-43-32"><a id="__codelineno-43-32" name="__codelineno-43-32" href="#__codelineno-43-32"></a><span class="w">    </span><span class="nt">&lt;/joint&gt;</span><span class="w"> </span>
</span><span id="__span-43-33"><a id="__codelineno-43-33" name="__codelineno-43-33" href="#__codelineno-43-33"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<p><code>my_car_gazebo.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;base_collision.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;my_base_gazebo.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;my_camera_gazebo.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;my_laser_gazebo.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<h3 id="422-gazebo">4.2.2 åœ¨gazeboä¸­æ˜¾ç¤ºæœºå™¨äººæ¨¡å‹</h3>
<p>æ–°å»ºlaunchæ–‡ä»¶å¯åŠ¨gazebo,å¹¶åŠ è½½æœºå™¨äººæ¨¡å‹</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/launch/start_gazebo.launch
</span></code></pre></div>
<p><code>start_gazebo.launch</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;robot_description&quot;</span><span class="w"> </span><span class="na">command=</span><span class="s">&quot;$(find xacro)/xacro $(find demo_urdf)/urdf/my_car_gazebo.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">    </span><span class="nt">&lt;include</span><span class="w"> </span><span class="na">file=</span><span class="s">&quot;$(find gazebo_ros)/launch/empty_world.launch&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;gazebo_ros&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;spawn_model&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;-urdf -model mycar -param robot_description&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;-d $(find demo_urdf)/config/my_car.rviz&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a>
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<h3 id="423-gazebo">4.2.3 æ§åˆ¶æœºå™¨äººåœ¨gazeboä¸­è¿åŠ¨</h3>
<p>gazebo ä¸­å·²ç»å¯ä»¥æ­£å¸¸æ˜¾ç¤ºæœºå™¨äººæ¨¡å‹äº†ï¼Œé‚£ä¹ˆå¦‚ä½•æ§åˆ¶æœºå™¨äººè¿åŠ¨å‘¢?è¿™éœ€è¦ç”¨åˆ°rosä¸­çš„ç»„ä»¶ï¼š<code>ros_control</code></p>
<h4 id="ros_control">ros_controlç®€ä»‹</h4>
<p><code>ros_control</code>æ˜¯ä¸€ç»„è½¯ä»¶åŒ…ï¼ŒåŒ…æ‹¬æ§åˆ¶å™¨æ¥å£ã€æ§åˆ¶å™¨ç®¡ç†ã€ä¼ è¾“å’Œç¡¬ä»¶æ¥å£ã€‚gazeboå·²ç»å®ç°äº†<code>ros_control</code>çš„ç›¸å…³æ¥å£ï¼Œå¦‚æœéœ€è¦åœ¨gazeboä¸­æ§åˆ¶æœºå™¨äººè¿åŠ¨ï¼Œç›´æ¥è°ƒç”¨ç›¸å…³æ¥å£å³å¯ã€‚</p>
<blockquote>
<p>æ’ä»¶æ¥å£å‚è€ƒï¼š<a href="https://classic.gazebosim.org/tutorials?tut=ros_gzplugins">Gazebo : Tutorial : Gazebo plugins in ROS (gazebosim.org)</a></p>
</blockquote>
<ol>
<li>ä¸ºé©±åŠ¨è½®å…³èŠ‚æ·»åŠ ä¼ åŠ¨è£…ç½®åŠæ§åˆ¶å™¨</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>vkrobot@vkrobot:~catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/move.urdf.xacro
</span></code></pre></div>
<p><code>move.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">    </span><span class="nt">&lt;xacro:macro</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;joint_trans&quot;</span><span class="w"> </span><span class="na">params=</span><span class="s">&quot;joint_name&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">        </span><span class="nt">&lt;transmission</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${joint_name}_trans&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">            </span><span class="nt">&lt;type&gt;</span>transmission_interface/SimpleTransmission<span class="nt">&lt;/type&gt;</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">            </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${joint_name}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">                </span><span class="nt">&lt;hardwareInterface&gt;</span>hardware_interface/VelocityJointInterface<span class="nt">&lt;/hardwareInterface&gt;</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">            </span><span class="nt">&lt;/joint&gt;</span>
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">            </span><span class="nt">&lt;actuator</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;${joint_name}_motor&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">                </span><span class="nt">&lt;hardwareInterface&gt;</span>hardware_interface/VelocityJointInterface<span class="nt">&lt;/hardwareInterface&gt;</span>
</span><span id="__span-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">                </span><span class="nt">&lt;mechanicalReduction&gt;</span>1<span class="nt">&lt;/mechanicalReduction&gt;</span>
</span><span id="__span-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="w">            </span><span class="nt">&lt;/actuator&gt;</span>
</span><span id="__span-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">        </span><span class="nt">&lt;/transmission&gt;</span>
</span><span id="__span-48-14"><a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="w">    </span><span class="nt">&lt;/xacro:macro&gt;</span>
</span><span id="__span-48-15"><a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a>
</span><span id="__span-48-16"><a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="w">    </span><span class="nt">&lt;xacro:joint_trans</span><span class="w"> </span><span class="na">joint_name=</span><span class="s">&quot;left_wheel2base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-48-17"><a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="w">    </span><span class="nt">&lt;xacro:joint_trans</span><span class="w"> </span><span class="na">joint_name=</span><span class="s">&quot;right_wheel2base_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-48-18"><a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a>
</span><span id="__span-48-19"><a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a><span class="w">    </span><span class="nt">&lt;gazebo&gt;</span>
</span><span id="__span-48-20"><a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a><span class="w">        </span><span class="nt">&lt;plugin</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;differential_drive_controller&quot;</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;libgazebo_ros_diff_drive.so&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-21"><a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="w">            </span><span class="nt">&lt;rosDebugLevel&gt;</span>Debug<span class="nt">&lt;/rosDebugLevel&gt;</span>
</span><span id="__span-48-22"><a id="__codelineno-48-22" name="__codelineno-48-22" href="#__codelineno-48-22"></a><span class="w">            </span><span class="nt">&lt;publishWheelTF&gt;</span>true<span class="nt">&lt;/publishWheelTF&gt;</span>
</span><span id="__span-48-23"><a id="__codelineno-48-23" name="__codelineno-48-23" href="#__codelineno-48-23"></a><span class="w">            </span><span class="nt">&lt;robotNamespace&gt;</span>/<span class="nt">&lt;/robotNamespace&gt;</span>
</span><span id="__span-48-24"><a id="__codelineno-48-24" name="__codelineno-48-24" href="#__codelineno-48-24"></a><span class="w">            </span><span class="nt">&lt;publishTf&gt;</span>1<span class="nt">&lt;/publishTf&gt;</span>
</span><span id="__span-48-25"><a id="__codelineno-48-25" name="__codelineno-48-25" href="#__codelineno-48-25"></a><span class="w">            </span><span class="nt">&lt;publishWheelJointState&gt;</span>true<span class="nt">&lt;/publishWheelJointState&gt;</span>
</span><span id="__span-48-26"><a id="__codelineno-48-26" name="__codelineno-48-26" href="#__codelineno-48-26"></a><span class="w">            </span><span class="nt">&lt;alwaysOn&gt;</span>true<span class="nt">&lt;/alwaysOn&gt;</span>
</span><span id="__span-48-27"><a id="__codelineno-48-27" name="__codelineno-48-27" href="#__codelineno-48-27"></a><span class="w">            </span><span class="nt">&lt;updateRate&gt;</span>100.0<span class="nt">&lt;/updateRate&gt;</span>
</span><span id="__span-48-28"><a id="__codelineno-48-28" name="__codelineno-48-28" href="#__codelineno-48-28"></a><span class="w">            </span><span class="nt">&lt;legacyMode&gt;</span>true<span class="nt">&lt;/legacyMode&gt;</span>
</span><span id="__span-48-29"><a id="__codelineno-48-29" name="__codelineno-48-29" href="#__codelineno-48-29"></a><span class="w">            </span><span class="nt">&lt;leftJoint&gt;</span>left_wheel2base_link<span class="nt">&lt;/leftJoint&gt;</span>
</span><span id="__span-48-30"><a id="__codelineno-48-30" name="__codelineno-48-30" href="#__codelineno-48-30"></a><span class="w">            </span><span class="nt">&lt;rightJoint&gt;</span>right_wheel2base_link<span class="nt">&lt;/rightJoint&gt;</span>
</span><span id="__span-48-31"><a id="__codelineno-48-31" name="__codelineno-48-31" href="#__codelineno-48-31"></a><span class="w">            </span><span class="nt">&lt;wheelSeparation&gt;</span>${base_radius<span class="w"> </span>*<span class="w"> </span>2}<span class="nt">&lt;/wheelSeparation&gt;</span>
</span><span id="__span-48-32"><a id="__codelineno-48-32" name="__codelineno-48-32" href="#__codelineno-48-32"></a><span class="w">            </span><span class="nt">&lt;wheelDiameter&gt;</span>${wheel_radius<span class="w"> </span>*<span class="w"> </span>2}<span class="nt">&lt;/wheelDiameter&gt;</span>
</span><span id="__span-48-33"><a id="__codelineno-48-33" name="__codelineno-48-33" href="#__codelineno-48-33"></a><span class="w">            </span><span class="nt">&lt;broadcastTF&gt;</span>1<span class="nt">&lt;/broadcastTF&gt;</span>
</span><span id="__span-48-34"><a id="__codelineno-48-34" name="__codelineno-48-34" href="#__codelineno-48-34"></a><span class="w">            </span><span class="nt">&lt;wheelTorque&gt;</span>30<span class="nt">&lt;/wheelTorque&gt;</span>
</span><span id="__span-48-35"><a id="__codelineno-48-35" name="__codelineno-48-35" href="#__codelineno-48-35"></a><span class="w">            </span><span class="nt">&lt;wheelAcceleration&gt;</span>1.8<span class="nt">&lt;/wheelAcceleration&gt;</span>
</span><span id="__span-48-36"><a id="__codelineno-48-36" name="__codelineno-48-36" href="#__codelineno-48-36"></a><span class="w">            </span><span class="nt">&lt;commandTopic&gt;</span>cmd_vel<span class="nt">&lt;/commandTopic&gt;</span>
</span><span id="__span-48-37"><a id="__codelineno-48-37" name="__codelineno-48-37" href="#__codelineno-48-37"></a><span class="w">            </span><span class="nt">&lt;odometryFrame&gt;</span>odom<span class="nt">&lt;/odometryFrame&gt;</span><span class="w"> </span>
</span><span id="__span-48-38"><a id="__codelineno-48-38" name="__codelineno-48-38" href="#__codelineno-48-38"></a><span class="w">            </span><span class="nt">&lt;odometryTopic&gt;</span>odom<span class="nt">&lt;/odometryTopic&gt;</span>
</span><span id="__span-48-39"><a id="__codelineno-48-39" name="__codelineno-48-39" href="#__codelineno-48-39"></a><span class="w">            </span><span class="nt">&lt;robotBaseFrame&gt;</span>base_footprint<span class="nt">&lt;/robotBaseFrame&gt;</span>
</span><span id="__span-48-40"><a id="__codelineno-48-40" name="__codelineno-48-40" href="#__codelineno-48-40"></a><span class="w">        </span><span class="nt">&lt;/plugin&gt;</span>
</span><span id="__span-48-41"><a id="__codelineno-48-41" name="__codelineno-48-41" href="#__codelineno-48-41"></a><span class="w">    </span><span class="nt">&lt;/gazebo&gt;</span>
</span><span id="__span-48-42"><a id="__codelineno-48-42" name="__codelineno-48-42" href="#__codelineno-48-42"></a>
</span><span id="__span-48-43"><a id="__codelineno-48-43" name="__codelineno-48-43" href="#__codelineno-48-43"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>å°†<code>move.urdf.xacro</code>é›†æˆåˆ°<code>my_car_gazebo.urdf.xacro</code></li>
</ol>
<p><code>my_car_gazebo.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">    </span>......
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;move.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>
<p><code>start_gazebo.launch</code>æ–‡ä»¶ä¸éœ€è¦ä¿®æ”¹å³å¯å¯åŠ¨</p>
</li>
<li>
<p>å¯åŠ¨é”®ç›˜æ§åˆ¶èŠ‚ç‚¹ï¼Œæ§åˆ¶å°è½¦è¿åŠ¨</p>
</li>
</ol>
<p>â€‹   <strong>å®‰è£…</strong>ï¼š<code>sudo apt-get install ros-melodic-teleop-twist-keyboard</code></p>
<p>â€‹   <strong>å¯åŠ¨</strong>ï¼š<code>rosrun teleop_twist_keyboard teleop_twist_keyboard.py</code></p>
<h3 id="424">4.2.4 æ‘„åƒå¤´ä»¿çœŸ</h3>
<ol>
<li>é…ç½®æ‘„åƒå¤´ä¼ æ„Ÿå™¨ä¿¡æ¯</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/camera.urdf.xacro
</span></code></pre></div>
<p><code>camera.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_sensors&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">  </span><span class="nt">&lt;gazebo</span><span class="w"> </span><span class="na">reference=</span><span class="s">&quot;camera&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">    </span><span class="nt">&lt;sensor</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;camera&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_node&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">      </span><span class="nt">&lt;update_rate&gt;</span>30.0<span class="nt">&lt;/update_rate&gt;</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">      </span><span class="nt">&lt;camera</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;head&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="w">        </span><span class="nt">&lt;horizontal_fov&gt;</span>1.3962634<span class="nt">&lt;/horizontal_fov&gt;</span>
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">        </span><span class="nt">&lt;image&gt;</span>
</span><span id="__span-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="w">          </span><span class="nt">&lt;width&gt;</span>1280<span class="nt">&lt;/width&gt;</span>
</span><span id="__span-51-9"><a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="w">          </span><span class="nt">&lt;height&gt;</span>720<span class="nt">&lt;/height&gt;</span>
</span><span id="__span-51-10"><a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a><span class="w">          </span><span class="nt">&lt;format&gt;</span>R8G8B8<span class="nt">&lt;/format&gt;</span>
</span><span id="__span-51-11"><a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a><span class="w">        </span><span class="nt">&lt;/image&gt;</span>
</span><span id="__span-51-12"><a id="__codelineno-51-12" name="__codelineno-51-12" href="#__codelineno-51-12"></a><span class="w">        </span><span class="nt">&lt;clip&gt;</span>
</span><span id="__span-51-13"><a id="__codelineno-51-13" name="__codelineno-51-13" href="#__codelineno-51-13"></a><span class="w">          </span><span class="nt">&lt;near&gt;</span>0.02<span class="nt">&lt;/near&gt;</span>
</span><span id="__span-51-14"><a id="__codelineno-51-14" name="__codelineno-51-14" href="#__codelineno-51-14"></a><span class="w">          </span><span class="nt">&lt;far&gt;</span>300<span class="nt">&lt;/far&gt;</span>
</span><span id="__span-51-15"><a id="__codelineno-51-15" name="__codelineno-51-15" href="#__codelineno-51-15"></a><span class="w">        </span><span class="nt">&lt;/clip&gt;</span>
</span><span id="__span-51-16"><a id="__codelineno-51-16" name="__codelineno-51-16" href="#__codelineno-51-16"></a><span class="w">        </span><span class="nt">&lt;noise&gt;</span>
</span><span id="__span-51-17"><a id="__codelineno-51-17" name="__codelineno-51-17" href="#__codelineno-51-17"></a><span class="w">          </span><span class="nt">&lt;type&gt;</span>gaussian<span class="nt">&lt;/type&gt;</span>
</span><span id="__span-51-18"><a id="__codelineno-51-18" name="__codelineno-51-18" href="#__codelineno-51-18"></a><span class="w">          </span><span class="nt">&lt;mean&gt;</span>0.0<span class="nt">&lt;/mean&gt;</span>
</span><span id="__span-51-19"><a id="__codelineno-51-19" name="__codelineno-51-19" href="#__codelineno-51-19"></a><span class="w">          </span><span class="nt">&lt;stddev&gt;</span>0.007<span class="nt">&lt;/stddev&gt;</span>
</span><span id="__span-51-20"><a id="__codelineno-51-20" name="__codelineno-51-20" href="#__codelineno-51-20"></a><span class="w">        </span><span class="nt">&lt;/noise&gt;</span>
</span><span id="__span-51-21"><a id="__codelineno-51-21" name="__codelineno-51-21" href="#__codelineno-51-21"></a><span class="w">      </span><span class="nt">&lt;/camera&gt;</span>
</span><span id="__span-51-22"><a id="__codelineno-51-22" name="__codelineno-51-22" href="#__codelineno-51-22"></a><span class="w">      </span><span class="nt">&lt;plugin</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;gazebo_camera&quot;</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;libgazebo_ros_camera.so&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-51-23"><a id="__codelineno-51-23" name="__codelineno-51-23" href="#__codelineno-51-23"></a><span class="w">        </span><span class="nt">&lt;alwaysOn&gt;</span>true<span class="nt">&lt;/alwaysOn&gt;</span>
</span><span id="__span-51-24"><a id="__codelineno-51-24" name="__codelineno-51-24" href="#__codelineno-51-24"></a><span class="w">        </span><span class="nt">&lt;updateRate&gt;</span>0.0<span class="nt">&lt;/updateRate&gt;</span>
</span><span id="__span-51-25"><a id="__codelineno-51-25" name="__codelineno-51-25" href="#__codelineno-51-25"></a><span class="w">        </span><span class="nt">&lt;cameraName&gt;</span>/camera<span class="nt">&lt;/cameraName&gt;</span>
</span><span id="__span-51-26"><a id="__codelineno-51-26" name="__codelineno-51-26" href="#__codelineno-51-26"></a><span class="w">        </span><span class="nt">&lt;imageTopicName&gt;</span>image_raw<span class="nt">&lt;/imageTopicName&gt;</span>
</span><span id="__span-51-27"><a id="__codelineno-51-27" name="__codelineno-51-27" href="#__codelineno-51-27"></a><span class="w">        </span><span class="nt">&lt;cameraInfoTopicName&gt;</span>camera_info<span class="nt">&lt;/cameraInfoTopicName&gt;</span>
</span><span id="__span-51-28"><a id="__codelineno-51-28" name="__codelineno-51-28" href="#__codelineno-51-28"></a><span class="w">        </span><span class="nt">&lt;frameName&gt;</span>camera<span class="nt">&lt;/frameName&gt;</span>
</span><span id="__span-51-29"><a id="__codelineno-51-29" name="__codelineno-51-29" href="#__codelineno-51-29"></a><span class="w">        </span><span class="nt">&lt;hackBaseline&gt;</span>0.07<span class="nt">&lt;/hackBaseline&gt;</span>
</span><span id="__span-51-30"><a id="__codelineno-51-30" name="__codelineno-51-30" href="#__codelineno-51-30"></a><span class="w">        </span><span class="nt">&lt;distortionK1&gt;</span>0.0<span class="nt">&lt;/distortionK1&gt;</span>
</span><span id="__span-51-31"><a id="__codelineno-51-31" name="__codelineno-51-31" href="#__codelineno-51-31"></a><span class="w">        </span><span class="nt">&lt;distortionK2&gt;</span>0.0<span class="nt">&lt;/distortionK2&gt;</span>
</span><span id="__span-51-32"><a id="__codelineno-51-32" name="__codelineno-51-32" href="#__codelineno-51-32"></a><span class="w">        </span><span class="nt">&lt;distortionK3&gt;</span>0.0<span class="nt">&lt;/distortionK3&gt;</span>
</span><span id="__span-51-33"><a id="__codelineno-51-33" name="__codelineno-51-33" href="#__codelineno-51-33"></a><span class="w">        </span><span class="nt">&lt;distortionT1&gt;</span>0.0<span class="nt">&lt;/distortionT1&gt;</span>
</span><span id="__span-51-34"><a id="__codelineno-51-34" name="__codelineno-51-34" href="#__codelineno-51-34"></a><span class="w">        </span><span class="nt">&lt;distortionT2&gt;</span>0.0<span class="nt">&lt;/distortionT2&gt;</span>
</span><span id="__span-51-35"><a id="__codelineno-51-35" name="__codelineno-51-35" href="#__codelineno-51-35"></a><span class="w">      </span><span class="nt">&lt;/plugin&gt;</span>
</span><span id="__span-51-36"><a id="__codelineno-51-36" name="__codelineno-51-36" href="#__codelineno-51-36"></a><span class="w">    </span><span class="nt">&lt;/sensor&gt;</span>
</span><span id="__span-51-37"><a id="__codelineno-51-37" name="__codelineno-51-37" href="#__codelineno-51-37"></a><span class="w">  </span><span class="nt">&lt;/gazebo&gt;</span>
</span><span id="__span-51-38"><a id="__codelineno-51-38" name="__codelineno-51-38" href="#__codelineno-51-38"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>å°†<code>camera.urdf.xacro</code>é›†æˆåˆ°<code>my_car_gazebo.urdf.xacro</code></li>
</ol>
<p><code>my_car_gazebo.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="w">    </span>......
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;camera.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>
<p><code>start_gazebo.launch</code>æ–‡ä»¶ä¸éœ€è¦ä¿®æ”¹å³å¯å¯åŠ¨</p>
</li>
<li>
<p>å¯åŠ¨é”®ç›˜æ§åˆ¶èŠ‚ç‚¹ï¼Œæ§åˆ¶å°è½¦è¿åŠ¨</p>
</li>
</ol>
<p>â€‹   <strong>å®‰è£…</strong>ï¼š<code>sudo apt-get install ros-melodic-teleop-twist-keyboard</code></p>
<p>â€‹   <strong>å¯åŠ¨</strong>ï¼š<code>rosrun teleop_twist_keyboard teleop_twist_keyboard.py</code></p>
<blockquote>
<p><span class="keys"><kbd class="key-u">U</kbd></span>-å¾€å·¦å‰æ–¹  <span class="keys"><kbd class="key-i">I</kbd></span>-å¾€æ­£å‰æ–¹  <span class="keys"><kbd class="key-o">O</kbd></span>-å¾€å³å‰æ–¹</p>
<p><span class="keys"><kbd class="key-j">J</kbd></span>-åŸåœ°å·¦è½¬  <span class="keys"><kbd class="key-k">K</kbd></span>-åœæ­¢è¿åŠ¨  <span class="keys"><kbd class="key-l">L</kbd></span>-åŸåœ°å³è½¬</p>
<p><span class="keys"><kbd class="key-m">M</kbd></span>-å¾€å·¦åæ–¹  <span class="keys"><kbd class="key-comma">,</kbd></span>-å¾€æ­£åæ–¹  <span class="keys"><kbd class="key-period">.</kbd></span>-å¾€å³åæ–¹</p>
</blockquote>
<h3 id="425">4.2.5 æ¿€å…‰é›·è¾¾ä»¿çœŸ</h3>
<ol>
<li>é…ç½®æ¿€å…‰é›·è¾¾ä¼ æ„Ÿå™¨ä¿¡æ¯</li>
</ol>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a>vkrobot@vkrobot:~/catkin_ws/src$<span class="w"> </span>touch<span class="w"> </span>learning_urdf/urdf/laser.urdf.xacro
</span></code></pre></div>
<p><code>laser.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_sensors&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="w">  </span><span class="nt">&lt;gazebo</span><span class="w"> </span><span class="na">reference=</span><span class="s">&quot;laser&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="w">    </span><span class="nt">&lt;sensor</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;ray&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;rplidar&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="w">      </span><span class="nt">&lt;pose&gt;</span>0<span class="w"> </span>0<span class="w"> </span>0<span class="w"> </span>0<span class="w"> </span>0<span class="w"> </span>0<span class="nt">&lt;/pose&gt;</span>
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="w">      </span><span class="nt">&lt;visualize&gt;</span>true<span class="nt">&lt;/visualize&gt;</span>
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="w">      </span><span class="nt">&lt;update_rate&gt;</span>5<span class="nt">&lt;/update_rate&gt;</span>
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="w">      </span><span class="nt">&lt;ray&gt;</span>
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a><span class="w">        </span><span class="nt">&lt;scan&gt;</span>
</span><span id="__span-54-9"><a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a><span class="w">          </span><span class="nt">&lt;horizontal&gt;</span>
</span><span id="__span-54-10"><a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a><span class="w">            </span><span class="nt">&lt;samples&gt;</span>360<span class="nt">&lt;/samples&gt;</span>
</span><span id="__span-54-11"><a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a><span class="w">            </span><span class="nt">&lt;resolution&gt;</span>1<span class="nt">&lt;/resolution&gt;</span>
</span><span id="__span-54-12"><a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a><span class="w">            </span><span class="nt">&lt;min_angle&gt;</span>-3<span class="nt">&lt;/min_angle&gt;</span>
</span><span id="__span-54-13"><a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a><span class="w">            </span><span class="nt">&lt;max_angle&gt;</span>3<span class="nt">&lt;/max_angle&gt;</span>
</span><span id="__span-54-14"><a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a><span class="w">          </span><span class="nt">&lt;/horizontal&gt;</span>
</span><span id="__span-54-15"><a id="__codelineno-54-15" name="__codelineno-54-15" href="#__codelineno-54-15"></a><span class="w">        </span><span class="nt">&lt;/scan&gt;</span>
</span><span id="__span-54-16"><a id="__codelineno-54-16" name="__codelineno-54-16" href="#__codelineno-54-16"></a><span class="w">        </span><span class="nt">&lt;range&gt;</span>
</span><span id="__span-54-17"><a id="__codelineno-54-17" name="__codelineno-54-17" href="#__codelineno-54-17"></a><span class="w">          </span><span class="nt">&lt;min&gt;</span>0.10<span class="nt">&lt;/min&gt;</span>
</span><span id="__span-54-18"><a id="__codelineno-54-18" name="__codelineno-54-18" href="#__codelineno-54-18"></a><span class="w">          </span><span class="nt">&lt;max&gt;</span>30.0<span class="nt">&lt;/max&gt;</span>
</span><span id="__span-54-19"><a id="__codelineno-54-19" name="__codelineno-54-19" href="#__codelineno-54-19"></a><span class="w">          </span><span class="nt">&lt;resolution&gt;</span>0.01<span class="nt">&lt;/resolution&gt;</span>
</span><span id="__span-54-20"><a id="__codelineno-54-20" name="__codelineno-54-20" href="#__codelineno-54-20"></a><span class="w">        </span><span class="nt">&lt;/range&gt;</span>
</span><span id="__span-54-21"><a id="__codelineno-54-21" name="__codelineno-54-21" href="#__codelineno-54-21"></a><span class="w">        </span><span class="nt">&lt;noise&gt;</span>
</span><span id="__span-54-22"><a id="__codelineno-54-22" name="__codelineno-54-22" href="#__codelineno-54-22"></a><span class="w">          </span><span class="nt">&lt;type&gt;</span>gaussian<span class="nt">&lt;/type&gt;</span>
</span><span id="__span-54-23"><a id="__codelineno-54-23" name="__codelineno-54-23" href="#__codelineno-54-23"></a><span class="w">          </span><span class="nt">&lt;mean&gt;</span>0.0<span class="nt">&lt;/mean&gt;</span>
</span><span id="__span-54-24"><a id="__codelineno-54-24" name="__codelineno-54-24" href="#__codelineno-54-24"></a><span class="w">          </span><span class="nt">&lt;stddev&gt;</span>0.01<span class="nt">&lt;/stddev&gt;</span>
</span><span id="__span-54-25"><a id="__codelineno-54-25" name="__codelineno-54-25" href="#__codelineno-54-25"></a><span class="w">        </span><span class="nt">&lt;/noise&gt;</span>
</span><span id="__span-54-26"><a id="__codelineno-54-26" name="__codelineno-54-26" href="#__codelineno-54-26"></a><span class="w">      </span><span class="nt">&lt;/ray&gt;</span>
</span><span id="__span-54-27"><a id="__codelineno-54-27" name="__codelineno-54-27" href="#__codelineno-54-27"></a><span class="w">      </span><span class="nt">&lt;plugin</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;gazebo_rplidar&quot;</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;libgazebo_ros_laser.so&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-54-28"><a id="__codelineno-54-28" name="__codelineno-54-28" href="#__codelineno-54-28"></a><span class="w">        </span><span class="nt">&lt;topicName&gt;</span>/scan<span class="nt">&lt;/topicName&gt;</span>
</span><span id="__span-54-29"><a id="__codelineno-54-29" name="__codelineno-54-29" href="#__codelineno-54-29"></a><span class="w">        </span><span class="nt">&lt;frameName&gt;</span>laser<span class="nt">&lt;/frameName&gt;</span>
</span><span id="__span-54-30"><a id="__codelineno-54-30" name="__codelineno-54-30" href="#__codelineno-54-30"></a><span class="w">      </span><span class="nt">&lt;/plugin&gt;</span>
</span><span id="__span-54-31"><a id="__codelineno-54-31" name="__codelineno-54-31" href="#__codelineno-54-31"></a><span class="w">    </span><span class="nt">&lt;/sensor&gt;</span>
</span><span id="__span-54-32"><a id="__codelineno-54-32" name="__codelineno-54-32" href="#__codelineno-54-32"></a><span class="w">  </span><span class="nt">&lt;/gazebo&gt;</span>
</span><span id="__span-54-33"><a id="__codelineno-54-33" name="__codelineno-54-33" href="#__codelineno-54-33"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>å°†<code>laser.urdf.xacro</code>é›†æˆåˆ°<code>my_car_gazebo.urdf.xacro</code></li>
</ol>
<p><code>my_car_gazebo.urdf.xacro</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;my_car&quot;</span><span class="w"> </span><span class="na">xmlns:xacro=</span><span class="s">&quot;http://wiki.ros.org/xacro&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">    </span>......
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">    </span><span class="nt">&lt;xacro:include</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;laser.urdf.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="nt">&lt;/robot&gt;</span>
</span></code></pre></div>
<ol>
<li>
<p><code>start_gazebo.launch</code>æ–‡ä»¶ä¸éœ€è¦ä¿®æ”¹å³å¯å¯åŠ¨</p>
</li>
<li>
<p>å¯åŠ¨é”®ç›˜æ§åˆ¶èŠ‚ç‚¹ï¼Œæ§åˆ¶å°è½¦è¿åŠ¨</p>
</li>
</ol>
<p>â€‹   <strong>å®‰è£…</strong>ï¼š<code>sudo apt-get install ros-melodic-teleop-twist-keyboard</code></p>
<p>â€‹   <strong>å¯åŠ¨</strong>ï¼š<code>rosrun teleop_twist_keyboard teleop_twist_keyboard.py</code></p>
<h1 id="5">5 æœºå™¨äººå¹³å°æ­å»º</h1>
<p>å‰é¢çš„ç« èŠ‚ä¸»è¦è®²è§£äº†ROSçš„åŸºç¡€çŸ¥è¯†ï¼Œå†…å®¹æ›´åç†è®ºï¼Œå­¦ä¹ å®Œåæƒ³å¿…å„ä½ä¼šæœ‰äº›ç–‘æƒ‘ï¼š</p>
<ul>
<li>ä»€ä¹ˆæ˜¯æœºå™¨äººï¼Ÿ</li>
<li>å®ä½“æœºå™¨äººä¸ä»¿çœŸå®ç°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li>
<li>å¦‚ä½•æ„å»ºä¸€ä¸ªçœŸå®çš„æœºå™¨äººç³»ç»Ÿï¼Ÿ</li>
<li>...</li>
</ul>
<h2 id="51">5.1 æœºå™¨äººçš„å®šä¹‰</h2>
<p>1920å¹´ï¼Œæ·å…‹ä½œå®¶å¡é›·å°”Â·å‡¯ä½©å…‹ï¼ˆKarel Capekï¼‰å‘è¡¨äº†ç§‘å¹»å‰§æœ¬ã€Šç½—è¨å§†çš„ä¸‡èƒ½æœºå™¨äººã€‹ã€‚åœ¨å‰§æœ¬ä¸­ï¼Œå‡¯ä½©å…‹æŠŠæ·å…‹è¯­â€œRobotaâ€å†™æˆäº†â€œRobotâ€ï¼Œâ€œRobotaâ€æ˜¯å¥´éš¶çš„æ„æ€ã€‚è¯¥å‰§é¢„å‘Šäº†æœºå™¨äººçš„å‘å±•å¯¹äººç±»ç¤¾ä¼šçš„æ‚²å‰§æ€§å½±å“ï¼Œå¼•èµ·äº†äººä»¬çš„å¹¿æ³›å…³æ³¨ï¼Œè¢«å½“æˆäº†â€œæœºå™¨äººâ€ä¸€è¯çš„èµ·æºã€‚</p>
<p>æœºå™¨äººï¼ˆRobotï¼‰æ˜¯è‡ªåŠ¨æ‰§è¡Œå·¥ä½œçš„æœºå™¨è£…ç½®ã€‚æœºå™¨äººå¯æ¥å—äººç±»æŒ‡æŒ¥ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œé¢„å…ˆç¼–æ’çš„ç¨‹åºï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä»¥äººå·¥æ™ºèƒ½æŠ€æœ¯åˆ¶å®šçš„åŸåˆ™çº²é¢†è¡ŒåŠ¨ã€‚æœºå™¨äººæ‰§è¡Œçš„æ˜¯å–ä»£æˆ–æ˜¯ååŠ©äººç±»å·¥ä½œçš„å·¥ä½œï¼Œä¾‹å¦‚åˆ¶é€ ä¸šã€å»ºç­‘ä¸šï¼Œæˆ–æ˜¯å±é™©çš„å·¥ä½œã€‚</p>
<blockquote>
<p>ç™¾åº¦ç™¾ç§‘</p>
</blockquote>
<figure>
<p><img alt="" src="../assets/%E4%BA%A7%E5%93%81%E5%9B%BE.png" width="500" /></p>
</figure>
<h2 id="52">5.2 æœºå™¨äººçš„ç»„æˆ</h2>
<p>æœºå™¨äººæ˜¯ä¸€å¥—æœºç”µä¸€ä½“åŒ–çš„è®¾å¤‡ï¼Œè§’åº¦ä¸åŒï¼Œå¯¹æœºå™¨äººç»„æˆçš„è®¤è¯†ä¹Ÿä¼šæœ‰æ˜æ˜¾å·®å¼‚ï¼Œä»æ§åˆ¶çš„è§’åº¦æ¥çœ‹ï¼Œæœºå™¨äººç³»ç»Ÿå¯ä»¥åˆ†ä¸ºå››å¤§éƒ¨åˆ†ï¼Œå³æ‰§è¡Œæœºæ„ã€é©±åŠ¨ç³»ç»Ÿã€ä¼ æ„Ÿç³»ç»Ÿå’Œæ§åˆ¶ç³»ç»Ÿã€‚å„éƒ¨åˆ†ä¹‹é—´çš„æ§åˆ¶å…³ç³»å¦‚ä¸‹å›¾ï¼š</p>
<figure>
<p><img alt="" src="../assets/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%9B%9B%E5%A4%A7%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86%E4%B9%8B%E9%97%B4%E7%9A%84%E6%8E%A7%E5%88%B6%E5%85%B3%E7%B3%BB.png" width="700" /></p>
</figure>
<h3 id="521">5.2.1 æ‰§è¡Œæœºæ„</h3>
<p>æ‰§è¡Œæœºæ„æ˜¯æœºå™¨äººç»„æˆä¸­ç›´æ¥é¢å‘å·¥ä½œå¯¹è±¡çš„æœºæ¢°è£…ç½®ï¼Œç±»ä¼¼äºäººä½“çš„æ‰‹ä¸è„šï¼Œæ¯”å¦‚æœºå™¨äººçš„è¡Œèµ°éƒ¨åˆ†ä¸æœºæ¢°è‡‚ã€‚</p>
<p>åœ¨å½“å‰æœºå™¨äººç³»ç»Ÿä¸­ï¼Œæ‰§è¡Œæœºæ„ä¸»è¦æœ‰ï¼šç”±ä¸¤ä¸ªè½®æ¯‚ç”µæœºå¸¦åŠ¨çš„ä¸»åŠ¨è½®ä»¥åŠä¿æŒå¹³è¡¡çš„ä¸‡å‘è½®ï¼Œå®ç°æœºå™¨äººçš„è¡Œèµ°ï¼›ä¸€ä¸ªä¸‰è½´æœºæ¢°è‡‚ï¼Œå®ç°æœºå™¨äººçš„æŠ“å–ã€‚</p>
<h3 id="522">5.2.2 é©±åŠ¨ç³»ç»Ÿ</h3>
<p>é©±åŠ¨ç³»ç»Ÿè´Ÿè´£é©±åŠ¨æ‰§è¡Œæœºæ„ï¼Œå°†æ§åˆ¶ç³»ç»Ÿä¸‹è¾¾çš„æŒ‡ä»¤è½¬æ¢æˆæ‰§è¡Œæœºæ„æ‰€éœ€è¦çš„ä¿¡å·ï¼Œç›¸å½“äºäººçš„è‚Œè‚‰ã€‚æ ¹æ®é‡‡ç”¨çš„åŠ¨åŠ›æºä¸ç”¨ï¼Œé©±åŠ¨ç³»ç»Ÿçš„ä¼ åŠ¨æ–¹å¼ä¹Ÿä¸åŒï¼Œä¸»è¦æœ‰å››ç§ï¼šæ¶²å‹å¼ã€æ°”å‹å¼ã€ç”µæ°”å¼å’Œæœºæ¢°å¼ã€‚å…¶ä¸­ï¼Œç”µåŠ›é©±åŠ¨æ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„ä¸€ç§é©±åŠ¨æ–¹å¼ï¼Œå…¶ç‰¹ç‚¹æ˜¯å–ç”µæ–¹ä¾¿ã€å“åº”å¿«ã€é©±åŠ¨åŠ›å¤§ç­‰ï¼Œå¹¶ä¸”å¯ä»¥é‡‡ç”¨å¤šç§çµæ´»çš„æ§åˆ¶æ–¹å¼ã€‚</p>
<p>åœ¨å½“å‰çš„æœºå™¨äººç³»ç»Ÿä¸­ï¼Œé©±åŠ¨ç³»ç»Ÿé‡‡ç”¨stm32ï¼Œè´Ÿè´£é‡‡é›†é™€èºä»ªIMUã€è¶…å£°æ³¢ã€å·¦å³è½®ç”µæœºç¼–ç å™¨ç­‰ä¼ æ„Ÿå™¨æ•°æ®ï¼Œå¹¶é©±åŠ¨ç”µæœºè½¬åŠ¨ã€‚</p>
<h3 id="523">5.2.3 ä¼ æ„Ÿç³»ç»Ÿ</h3>
<p>ä¼ æ„Ÿç³»ç»Ÿç”±å¤–éƒ¨ä¼ æ„Ÿå™¨æ¨¡å—ä¸å†…éƒ¨ä¼ æ„Ÿå™¨æ¨¡å—ç»„æˆï¼Œç”¨äºè·å–å¤–éƒ¨ç¯å¢ƒä¸å†…éƒ¨æœ‰ç”¨çš„ä¿¡æ¯ï¼Œç›¸å½“äºäººä½“çš„æ„Ÿå®˜ä¸ç¥ç»ã€‚å¸¸ç”¨çš„å¤–éƒ¨ä¼ æ„Ÿå™¨åŒ…æ‹¬æ‘„åƒå¤´ã€çº¢å¤–ã€æ¿€å…‰é›·è¾¾ç­‰ï¼Œç”¨äºæ„ŸçŸ¥å¤–éƒ¨ç¯å¢ƒï¼›å†…éƒ¨ä¼ æ„Ÿå™¨åŒ…æ‹¬ç¼–ç å™¨ã€é™€èºä»ªç­‰ï¼Œå¯ä»¥é€šè¿‡è‡ªèº«ä¿¡å·åé¦ˆæ£€æµ‹ä½å§¿çŠ¶æ€ã€‚</p>
<p>åœ¨å½“å‰æœºå™¨äººç³»ç»Ÿä¸­ï¼Œä¼ æ„Ÿç³»ç»Ÿä¸»è¦æœ‰ï¼šEAI G4å‹å·çš„æ¿€å…‰é›·è¾¾ï¼Œå¯å®ç°360Â°çš„æ—‹è½¬æµ‹è·ï¼›ç¯å½¢éº¦å…‹é£é˜µåˆ—æ¨¡å—ï¼Œå¯å®ç°360Â°çš„ç­‰æ•ˆæ‹¾éŸ³ï¼›é±¼çœ¼æ‘„åƒå¤´ä¸æ·±åº¦ç›¸æœºï¼Œå¯å®ç°å›¾åƒæ•°æ®çš„è·å–ã€‚</p>
<h3 id="524">5.2.4 æ§åˆ¶ç³»ç»Ÿ</h3>
<p>æ§åˆ¶ç³»ç»Ÿçš„ä»»åŠ¡æ˜¯æ ¹æ®æœºå™¨äººçš„ä½œä¸šæŒ‡ä»¤ä»¥åŠä»ä¼ æ„Ÿå™¨åé¦ˆå›æ¥çš„ä¿¡å·ï¼Œä½œå‡ºç›¸åº”å¤„ç†å¹¶è¾“å‡ºæ§åˆ¶æŒ‡ä»¤ä¿¡å·ï¼Œç›¸å½“äºäººä½“çš„å¤§è„‘ã€‚æ§åˆ¶ç³»ç»Ÿéœ€è¦åŸºäºå¤„ç†å™¨å®ç°ï¼Œä¸€èˆ¬å¸¸ç”¨çš„æœ‰ARMã€x86ç­‰æ¶æ„çš„å¤„ç†å™¨ã€‚åœ¨å¤„ç†å™¨ä¹‹ä¸Šï¼Œæ§åˆ¶ç³»ç»Ÿéœ€è¦å®Œæˆç®—æ³•å¤„ç†ã€å…³èŠ‚æ§åˆ¶ã€äººæœºäº¤äº’ç­‰å¤æ‚çš„åŠŸèƒ½ã€‚</p>
<p>åœ¨å½“å‰æœºå™¨äººç³»ç»Ÿä¸­ï¼Œæ§åˆ¶ç³»ç»Ÿé‡‡ç”¨Intel NUCå·¥æ§æœºï¼Œå®‰è£…äº†Ubuntuç³»ç»Ÿï¼ŒåŒæ—¶æ­å»ºäº†æœºå™¨äººæ“ä½œç³»ç»ŸROSç¯å¢ƒï¼Œä¸»è¦è´Ÿè´£ä¸Šå±‚è®¡ç®—é‡è¾ƒå¤§çš„åº”ç”¨ï¼Œå¯æ‰©å±•æ€§å¼ºã€‚</p>
<h2 id="53">5.3 è§†è§‰</h2>
<p>æ‘„åƒå¤´æ˜¯æœºå™¨äººç³»ç»Ÿä¸­ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ä¼ æ„Ÿå™¨ï¼Œä¹Ÿæ˜¯æœºå™¨äººæ„ŸçŸ¥å¤–ç•Œç¯å¢ƒçš„é‡è¦æ‰‹æ®µä¹‹ä¸€ï¼Œå¹¶ä¸”éšç€æœºå™¨è§†è§‰ã€æ— äººé©¾é©¶ç­‰æŠ€æœ¯çš„å…´èµ·ï¼Œæ‘„åƒå¤´åœ¨ç‰©ä½“è¯†åˆ«ã€SLAMç­‰æŠ€æœ¯ä¸­éƒ½æœ‰ç€å¹¿æ³›çš„åº”ç”¨å‰æ™¯ã€‚</p>
<p>æ‘„åƒå¤´å¯ä»¥æ ¹æ®å·¥ä½œåŸç†å¤§è‡´åˆ’åˆ†ä¸ºä¸‰ç±»ï¼šå•ç›®æ‘„åƒå¤´ã€åŒç›®æ‘„åƒå¤´ä»¥åŠæ·±åº¦æ‘„åƒå¤´ã€‚</p>
<ol>
<li><strong>å•ç›®æ‘„åƒå¤´</strong></li>
</ol>
<p>å•ç›®æ‘„åƒå¤´æ˜¯å°†ä¸‰ç»´ä¸–ç•ŒäºŒç»´åŒ–ï¼Œåªèƒ½è·å–ç‰©ä½“åœ¨æ‘„åƒæœºæˆåƒå¹³é¢ä¸Šçš„æŠ•å½±ï¼Œåœ¨é™æ­¢çŠ¶æ€ä¸‹æ— æ³•è·å–æ·±åº¦ä¿¡æ¯ï¼Œä¹Ÿå°±æ— æ³•æ ¹æ®ç‰©ä½“çš„å¤§å°æ¥åˆ¤æ–­è·ç¦»ã€‚</p>
<figure>
<p><img alt="" src="http://www.autolabor.com.cn/book/ROSTutorials/.\assets/%E7%9B%B8%E6%9C%BA%E8%AF%B4%E6%98%8E.gif" /></p>
</figure>
<ol>
<li><strong>åŒç›®æ‘„åƒå¤´</strong></li>
</ol>
<p>åŒç›®æ‘„åƒå¤´é¡¾åæ€ä¹‰å°±æ˜¯ç”±ä¸¤ä¸ªå•ç›®ç›¸æœºç»„åˆè€Œæˆçš„æ‘„åƒå¤´ï¼Œå¯ä»¥é€šè¿‡ä¸¤ä¸ªå•ç›®ç›¸æœºä¹‹é—´å­˜åœ¨çš„å›ºå®šè·ç¦»ï¼ˆåŸºçº¿ï¼‰æ¥ä¼°è®¡æ‘„åƒå¤´ä¸ç›®æ ‡ç‰©ä½“ä¹‹é—´çš„è·ç¦»ã€‚</p>
<figure>
<p><img alt="image-20230619160832049" src="../assets/image-20230619160832049.png" /></p>
</figure>
<ol>
<li><strong>æ·±åº¦æ‘„åƒå¤´</strong></li>
</ol>
<p>æ·±åº¦æ‘„åƒå¤´åˆç§°ä¸ºRGB-Dæ‘„åƒå¤´ï¼Œæ­¤å¤„çš„Då°±æ˜¯Depthï¼ˆæ·±åº¦ï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒå¯ä»¥è·å–ç‰©ä½“çš„æ·±åº¦ä¿¡æ¯ã€‚æ·±åº¦æ‘„åƒå¤´ä¸€èˆ¬åŸºäºç»“æ„å…‰æ³•æˆ–é£è¡Œæ—¶é—´ï¼ˆToFï¼‰æ³•æ¥å®ç°æµ‹è·ã€‚</p>
<p>å‰è€…æ˜¯ä¸ºäº†è§£å†³åŒç›®åŒ¹é…é—®é¢˜äº§ç”Ÿçš„ï¼Œè§£å†³å¯¹ç¯å¢ƒå…‰ç…§æ•æ„Ÿçš„é—®é¢˜ï¼›åè€…æ˜¯é€šè¿‡å‘å°„ä¸€æŸå…‰è„‰å†²ï¼Œç„¶åç»è¿‡ç‰©ä½“åå°„å›å»ï¼Œå†æ¥æ”¶åˆ°å…‰è„‰å†²ï¼Œé€šè¿‡é£è¡Œæ—¶é—´æ¥è®¡ç®—è¢«æµ‹ç‰©ä½“ä¸æ‘„åƒå¤´çš„è·ç¦»ã€‚</p>
<h3 id="531">5.3.1 æ‘„åƒå¤´çš„ä½¿ç”¨</h3>
<ol>
<li>
<p>ç¡¬ä»¶å‡†å¤‡ï¼šç›´æ¥é€šè¿‡USBæ¥å…¥è™šæ‹Ÿæœºå³å¯ï¼Œéœ€æ³¨æ„è™šæ‹Ÿæœºçš„ç›¸å…³è®¾ç½®ã€‚</p>
</li>
<li>
<p>è½¯ä»¶å‡†å¤‡ï¼šå®‰è£…USBæ‘„åƒå¤´è½¯ä»¶åŒ…</p>
</li>
</ol>
<p><code>sudo apt-get install ros-melodic-usb-cam</code></p>
<p>æˆ–è€…ç›´æ¥ä»githubä¸‹è½½æºç </p>
<p><code>git clone https://github.com/ros-drivers/usb_cam.git</code></p>
<ol>
<li>æµ‹è¯•</li>
</ol>
<p>è½¯ä»¶åŒ…ä¸­å†…ç½®äº†æµ‹è¯•ç”¨çš„launchæ–‡ä»¶ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="w">  </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;usb_cam&quot;</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;usb_cam&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;usb_cam_node&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="w"> </span><span class="nt">&gt;</span>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;video_device&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;/dev/vkarm_camera_raw&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;image_width&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1280&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;image_height&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;720&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;pixel_format&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;yuyv&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_frame_id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;usb_cam&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;io_method&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;mmap&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="w">  </span><span class="nt">&lt;/node&gt;</span>
</span><span id="__span-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="w">  </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;image_view&quot;</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;image_view&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;image_view&quot;</span><span class="w"> </span><span class="na">respawn=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="w">    </span><span class="nt">&lt;remap</span><span class="w"> </span><span class="na">from=</span><span class="s">&quot;image&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;/usb_cam/image_raw&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-56-12"><a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;autosize&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-56-13"><a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="w">  </span><span class="nt">&lt;/node&gt;</span>
</span><span id="__span-56-14"><a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<p>è¿™ä¸ªlaunchæ–‡ä»¶å¯åŠ¨äº†ä¸¤ä¸ªèŠ‚ç‚¹ï¼š<code>usb_cam</code>ä¸<code>image_view</code>ã€‚å‰è€…ç”¨äºå¯åŠ¨ç›¸æœºï¼Œåè€…ä»¥å›¾å½¢åŒ–çª—å£çš„æ–¹å¼æ˜¾ç¤ºå›¾åƒæ•°æ®ï¼Œä½¿ç”¨å‰éœ€è¦æŸ¥çœ‹ç›¸æœºçš„ç«¯å£å¹¶ä¿®æ”¹<code>usb_cam</code>ä¸­çš„â€video_deviceâ€œå‚æ•°ã€‚</p>
<blockquote>
<p>æŸ¥çœ‹ç«¯å£çš„å‘½ä»¤è¡Œï¼š<code>ls -l /dev/video*</code></p>
</blockquote>
<h3 id="531-ros">5.3.1 ROSä¸­çš„å›¾åƒæ•°æ®</h3>
<p>æ— è®ºæ˜¯USBæ‘„åƒå¤´è¿˜æ˜¯RGB-Dæ‘„åƒå¤´ï¼Œå‘å¸ƒçš„å›¾åƒæ•°æ®æ ¼å¼æ˜¯å¤šç§å¤šæ ·çš„ï¼Œåœ¨å¤„ç†è¿™äº›æ•°æ®ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£è¿™äº›æ•°æ®çš„æ ¼å¼ã€‚</p>
<p>è¿æ¥USBæ‘„åƒå¤´åˆ°è™šæ‹Ÿæœºï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯åŠ¨æ‘„åƒå¤´ï¼Œæ³¨æ„ä¿®æ”¹ç«¯å£å·ï¼š</p>
<p><code>roslaunch usb_cam usb_cam-test.launch</code></p>
<p>å¯åŠ¨æˆåŠŸåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­çš„å›¾åƒè¯é¢˜ä¿¡æ¯ï¼š</p>
<p><code>rostopic info /usb_cam/image_raw</code></p>
<figure>
<p><img alt="image-20230626095356001" src="../assets/image-20230626095356001.png" width="500" /></p>
</figure>
<p>ä»ç»ˆç«¯æ‰“å°çš„ä¿¡æ¯ä¸­å¯ä»¥å¾—çŸ¥ï¼Œå›¾åƒè¯é¢˜çš„æ¶ˆæ¯ç±»å‹æ˜¯<code>sensor_msgs/Imgae</code>ï¼Œè¿™æ˜¯ROSæä¾›çš„ä¸€ç§æ‘„åƒå¤´åŸè§†å›¾åƒçš„æ¶ˆæ¯ç±»å‹ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹è¯¥æ¶ˆæ¯ç±»å‹æ›´è¯¦ç»†çš„å†…å®¹ï¼š</p>
<p><code>rosmsg show sensor_msgs/Image</code></p>
<figure>
<p><img alt="image-20230626095435934" src="../assets/image-20230626095435934.png" width="500" /></p>
</figure>
<ul>
<li>headerï¼šæ¶ˆæ¯å¤´ï¼ŒåŒ…å«å›¾åƒçš„åºåˆ—å·ã€æ—¶é—´æˆ³å’Œç»‘å®šçš„åæ ‡ç³»</li>
<li>heightï¼šå›¾åƒçš„çºµå‘åˆ†è¾¨ç‡ï¼Œå³å›¾åƒåŒ…å«å¤šå°‘è¡Œçš„åƒç´ ç‚¹</li>
<li>widthï¼šå›¾åƒçš„æ¨ªå‘åˆ†è¾¨ç‡ï¼Œå³å›¾åƒåŒ…å«å¤šå°‘åˆ—çš„åƒç´ ç‚¹</li>
<li>encodingï¼šå›¾åƒçš„ç¼–ç æ ¼å¼ï¼Œå¸¸ç”¨çš„æœ‰ï¼šRGBã€YUVç­‰</li>
<li>is_bigendianï¼šå›¾åƒæ•°æ®çš„å¤§å°ç«¯å­˜å‚¨æ¨¡å¼ï¼ˆBig-Endian/Little-Endianï¼‰</li>
<li>stepï¼šä¸€è¡Œå›¾åƒæ•°æ®çš„å­—èŠ‚æ•°é‡ï¼Œä½œä¸ºæ•°æ®çš„æ­¥é•¿å‚æ•°ï¼Œä¸€èˆ¬ä¸ºwidthÃ—3</li>
<li>dataï¼šå­˜å‚¨å›¾åƒæ•°æ®çš„æ•°ç»„ï¼Œå¤§å°ä¸º step Ã— height</li>
</ul>
<p>æ ¹æ®å…¬å¼ï¼Œè®¡ç®—å¾—å‡ºä¸€å¸§720Ã—1280åˆ†è¾¨ç‡çš„å›¾åƒæ•°æ®é‡ä¸º<code>widthÃ—3Ã—height=1280Ã—3Ã—720=2764800å­—èŠ‚=2.7648MB</code>ï¼Œè‹¥æŒ‰ç…§30å¸§/ç§’çš„å¸§ç‡è®¡ç®—ï¼Œé‚£ä¹ˆä¸€ç§’é’Ÿæ‘„åƒå¤´äº§ç”Ÿçš„æ•°æ®é‡æ˜¯ååˆ†åºå¤§çš„ã€‚åœ¨å®é™…åº”ç”¨ï¼Œå°¤å…¶æ˜¯è¿œç¨‹ä¼ è¾“å›¾åƒçš„åœºæ™¯ä¸­ï¼Œä¼šå¯¹æ— çº¿ç½‘ç»œé€ æˆå¾ˆå¤§çš„å‹åŠ›ï¼Œå› æ­¤å¾€å¾€éœ€è¦å¯¹å›¾åƒè¿›è¡Œå‹ç¼©å¤„ç†ï¼ŒROSä¹Ÿæä¾›äº†å‹ç¼©å›¾åƒçš„æ¶ˆæ¯ç±»å‹<code>sensor_msgs/CompressedImage</code>ï¼Œä½¿ç”¨ä»¥ä¸‹ä½ å‘½ä»¤æŸ¥çœ‹æ›´è¯¦ç»†çš„å†…å®¹ï¼š</p>
<p><code>rosmsg show sensor_msgs/CompressedImage</code></p>
<figure>
<p><img alt="image-20230626095519976" src="../assets/image-20230626095519976.png" width="500" /></p>
</figure>
<ul>
<li>headerï¼šæ¶ˆæ¯å¤´ï¼ŒåŒ…å«å›¾åƒçš„åºåˆ—å·ã€æ—¶é—´æˆ³å’Œç»‘å®šçš„åæ ‡ç³»</li>
<li>formatï¼šå›¾åƒçš„å‹ç¼©ç¼–ç æ ¼å¼ï¼ŒåŒ…æ‹¬ï¼šJPEGã€PNGã€BMPç­‰</li>
<li>dataï¼šå­˜å‚¨å›¾åƒæ•°æ®çš„æ•°ç»„</li>
</ul>
<h3 id="533">5.3.3 æ‘„åƒå¤´æ ‡å®š</h3>
<p>æ‘„åƒå¤´æ˜¯ä¸€ç§å¯¹å…‰å­¦å™¨ä»¶è¦æ±‚è¾ƒé«˜çš„ç²¾å¯†ä»ªå™¨ï¼Œç„¶è€Œï¼Œç”±äºæ‘„åƒå¤´çš„ä¸€äº›ç¡¬ä»¶åŸå› ï¼Œç”Ÿæˆçš„ç‰©ä½“å›¾åƒå¾€å¾€ä¼šäº§ç”Ÿç•¸å˜ï¼Œä¸ºäº†é¿å…æ•°æ®æºé€ æˆçš„è¯¯å·®ï¼Œéœ€è¦é’ˆå¯¹æ‘„åƒå¤´çš„å‚æ•°è¿›è¡Œæ ‡å®šã€‚ROSå®˜æ–¹æä¾›äº†ç”¨äºå•/åŒç›®æ‘„åƒå¤´æ ‡å®šçš„åŠŸèƒ½åŒ…â€”â€”<code>camera_calibration</code>ã€‚</p>
<p>1.<strong>å®‰è£…</strong></p>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…æ­¤åŠŸèƒ½åŒ…ï¼š</p>
<p><code>sudo apt-get install ros-melodic-camera-calibration</code></p>
<p>æ ‡å®šéœ€è¦ç”¨åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ£‹ç›˜æ ¼å›¾æ¡ˆçš„æ ‡å®šæ¿ï¼š</p>
<figure>
<p><img alt="" src="../assets/image-20230626100512253.png" width="700" /></p>
</figure>
<p>2.<strong>å¯åŠ¨</strong></p>
<p>æ¥ç€å¯åŠ¨æ‘„åƒå¤´ä¸æ ‡å®šç¨‹åºï¼š</p>
<p><code>rosrun camera_calibration cameracalibrator.py --size 8x6 --square 0.024 image:=/usb_cam/image_raw camera:=/usb_cam</code></p>
<blockquote>
<p>æ‘„åƒå¤´çš„å¯åŠ¨å‚è€ƒ<code>5.3.1</code></p>
</blockquote>
<p><code>cameracalibrator.py</code>æ ‡å®šç¨‹åºéœ€è¦ä»¥ä¸‹å‡ ä¸ªè¾“å…¥å‚æ•°ï¼š</p>
<ul>
<li>sizeï¼šæ ‡å®šæ£‹ç›˜æ ¼çš„å†…éƒ¨è§’ç‚¹ä¸ªæ•°</li>
<li>squareï¼šæ¯ä¸ªæ£‹ç›˜æ ¼çš„è¾¹é•¿ï¼Œå•ä½æ˜¯m</li>
<li>imageå’Œcameraï¼šè®¾ç½®æ‘„åƒå¤´å‘å¸ƒçš„å›¾åƒè¯é¢˜ä»¥åŠä½¿ç”¨çš„æ‘„åƒå¤´</li>
</ul>
<p>3.<strong>æ ‡å®š</strong></p>
<p>æ ‡å®šç¨‹åºå¯åŠ¨åï¼Œå°†æ ‡å®šæ¿æ”¾ç½®åœ¨æ‘„åƒå¤´è§†é‡èŒƒå›´å†…ï¼Œç”»é¢å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<p><img alt="image-20230626100915824" src="../assets/image-20230626100915824.png" width="700" /></p>
</figure>
<p>ç”»é¢å³ä¸Šè§’çš„è¿›å›¾æ¡è¡¨ç¤ºäº†ä¸åŒçš„æ ‡å®šè¿›åº¦ï¼š</p>
<ul>
<li>Xï¼šæ ‡å®šæ¿åœ¨æ‘„åƒå¤´è§†é‡ä¸­å·¦å³ç§»åŠ¨</li>
<li>Yï¼šæ ‡å®šæ¿åœ¨æ‘„åƒå¤´è§†é‡ä¸­ä¸Šä¸‹ç§»åŠ¨</li>
<li>Sizeï¼šæ ‡å®šæ¿åœ¨æ‘„åƒå¤´è§†é‡ä¸­å‰åç§»åŠ¨</li>
<li>Skewï¼šæ ‡å®šæ¿åœ¨æ‘„åƒå¤´è§†é‡ä¸­å€¾æ–œè½¬åŠ¨</li>
</ul>
<p>ä¸æ–­åœ¨æ‘„åƒå¤´è§†é‡ä¸­ç§»åŠ¨/è½¬åŠ¨æ ‡å®šæ¿ï¼Œç›´åˆ°â€œCALIBRATEâ€æŒ‰é’®æ¿€æ´»ï¼Œè¡¨ç¤ºæ ‡å®šç¨‹åºçš„å‚æ•°é‡‡é›†å®Œæˆã€‚</p>
<figure>
<p><img alt="image-20230626101236288" src="../assets/image-20230626101236288.png" width="700" /></p>
</figure>
<p>ç‚¹å‡»â€œCALIBRATEâ€æŒ‰é’®ï¼Œç¨‹åºå¼€å§‹è‡ªåŠ¨è®¡ç®—æ‘„åƒå¤´çš„æ ‡å®šå‚æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œæ­¤æ—¶ç•Œé¢ä¼šå˜æˆç°è‰²æ— å“åº”çŠ¶æ€ï¼Œæ³¨æ„è§‚å¯Ÿç»ˆç«¯ä¼šæœ‰æ ‡å®šç»“æœçš„æ˜¾ç¤ºï¼Œå¹¶ä¸”æ ‡å®šç•Œé¢çš„â€œSAVEâ€ä¸â€œCOMMITâ€æŒ‰é’®æ¿€æ´»ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<figure>
<p><img alt="image-20230626102238430" src="../assets/image-20230626102238430.png" width="700" /></p>
</figure>
<p>ç‚¹å‡»â€œSAVEâ€æŒ‰é’®ï¼Œæ ‡å®šå‚æ•°å°†è¢«ä¿å­˜åˆ°é»˜è®¤çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œåœ¨ç»ˆç«¯ä¸­å¯ä»¥çœ‹åˆ°æ­¤è·¯å¾„ï¼š</p>
<figure>
<p><img alt="image-20230626102322759" src="../assets/image-20230626102322759.png" width="700" /></p>
</figure>
<p>ç‚¹å‡»â€œCOMMITâ€æŒ‰é’®ï¼Œæäº¤æ•°æ®å¹¶é€€å‡ºç¨‹åºï¼Œç„¶åæ‹›åˆ°æ ‡å®šç»“æœçš„å‹ç¼©æ–‡ä»¶<code>calibrationdata.tar.gz</code>ï¼Œè§£å‹è¯¥æ–‡ä»¶åï¼Œæ‰¾åˆ°<code>ost.yaml</code>å‘½åçš„æ ‡å®šç»“æœæ–‡ä»¶ï¼Œå°†å…¶å¤åˆ¶å‡ºæ¥å¤‡ç”¨</p>
<figure>
<p><img alt="image-20230626102654675" src="../assets/image-20230626102654675.png" width="600" /></p>
</figure>
<p>4.<strong>åŠ è½½</strong></p>
<p>æ ‡å®šæ‘„åƒå¤´ç”Ÿæˆçš„é…ç½®æ–‡ä»¶æ˜¯YAMLæ ¼å¼çš„ï¼Œå¯ä»¥åœ¨å¯åŠ¨æ‘„åƒå¤´çš„launchæ–‡ä»¶ä¸­è¿›è¡ŒåŠ è½½ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;usb_cam&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;usb_cam_node&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;usb_cam&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">        </span>......
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_info_url&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;file://$(find æ‘„åƒå¤´åŠŸèƒ½åŒ…)/YAMLæ–‡ä»¶å&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">    </span><span class="nt">&lt;/node&gt;</span>
</span><span id="__span-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<h3 id="534">5.3.4 äºŒç»´ç è¯†åˆ«</h3>
<p>äºŒç»´ç åœ¨ç”Ÿæ´»ä¸­è¶Šæ¥è¶Šå¸¸è§ï¼Œæ— è®ºæ˜¯å…±äº«å•è½¦è¿˜æ˜¯ç§»åŠ¨æ”¯ä»˜ï¼ŒäºŒç»´ç å·²ç»å¾—åˆ°å¹¿æ³›åº”ç”¨ã€‚ROSä¹Ÿæä¾›äº†å¤šç§äºŒç»´ç è¯†åˆ«çš„åŠŸèƒ½åŒ…ï¼Œæˆ‘ä»¬é€‰ç”¨å…¶ä¸­ä¸€ä¸ªåŠŸèƒ½åŒ…â€”â€”<code>ar_track_alvar</code>ï¼Œæ¥ä»‹ç»äºŒç»´ç è¯†åˆ«çš„æ–¹æ³•ã€‚</p>
<p>1.<strong>å®‰è£…</strong></p>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…æ­¤åŠŸèƒ½åŒ…ï¼š</p>
<p><code>sudo apt-get install ros-melodic-ar-track-alvar</code></p>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨ç›®å½•ï¼š<code>/opt/ros/melodic/share/</code>ä¸­ï¼Œå¯ä»¥æ‰¾åˆ°æ­¤åŠŸèƒ½åŒ…ã€‚è¿›å…¥è¯¥åŠŸèƒ½åŒ…ä¸‹çš„launchæ–‡ä»¶å¤¹ï¼Œå¯ä»¥çœ‹åˆ°å¤šä¸ªlaunchæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¿™äº›éƒ½æ˜¯é’ˆå¯¹ROSå®˜æ–¹çš„PR2æœºå™¨äººä½¿ç”¨çš„äºŒç»´ç è¯†åˆ«ç¤ºä¾‹ï¼Œåç»­æˆ‘ä»¬å°†åœ¨è¿™äº›æ–‡ä»¶çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œé€‚é…è‡ªå·±çš„æœºå™¨äººå¹³å°</p>
<figure>
<p><img alt="image-20230626105042494" src="../assets/image-20230626105042494.png" width="600" /></p>
</figure>
<p>2.<strong>ç”ŸæˆäºŒç»´ç </strong></p>
<p><code>ar_track_alvar</code>åŠŸèƒ½åŒ…æä¾›äº†ç”ŸæˆäºŒç»´ç æ ‡ç­¾çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºå¯¹åº”IDå·çš„äºŒç»´ç æ ‡ç­¾ï¼š</p>
<p><code>rosrun ar_track_alvar createMarker &lt;AR_ID&gt;</code></p>
<p>å…¶ä¸­<code>AR_ID</code>çš„å–å€¼èŒƒå›´ä¸ºï¼š[0, 65535]</p>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿˜å¯ä»¥æŸ¥çœ‹æ›´å¤šçš„ä½¿ç”¨å¸®åŠ©ï¼š</p>
<p><code>rosrun ar_track_alvar createMarker</code></p>
<p><img alt="image-20230626110051776" src="../assets/image-20230626110051776.png" /></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œæ­¤èŠ‚ç‚¹ä¸ä»…èƒ½ä½¿ç”¨IDå·ç”ŸæˆäºŒç»´ç æ ‡ç­¾ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²ã€æ–‡ä»¶åã€ç½‘å€ç­‰ï¼Œæˆ–æ˜¯ä½¿ç”¨-så‚æ•°è®¾ç½®ç”ŸæˆäºŒç»´ç çš„å°ºå¯¸ã€‚</p>
<p>3.<strong>æ‘„åƒå¤´è¯†åˆ«äºŒç»´ç </strong></p>
<p><code>ar_track_alvar</code>åŠŸèƒ½åŒ…æ”¯æŒUSBæ‘„åƒå¤´æˆ–æ·±åº¦æ‘„åƒå¤´ä½œä¸ºè¯†åˆ«äºŒç»´ç çš„è§†è§‰ä¼ æ„Ÿå™¨ï¼Œåˆ†åˆ«å¯¹åº”äº†<code>pr2_indiv_no_kinect.launch</code>ä¸<code>pr2_indiv.launch</code>ä¸¤ä¸ªæ–‡ä»¶ã€‚å¤åˆ¶<code>pr2_indiv_no_kinect.launch</code>æ–‡ä»¶ä½œä¸ºå‚è€ƒï¼Œé’ˆå¯¹è‡ªå·±ä½¿ç”¨çš„æ‘„åƒå¤´ä¿®æ”¹è®¾ç½®ã€‚</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">    </span><span class="cm">&lt;!-- tf --&gt;</span>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;robot_description&quot;</span><span class="w"> </span><span class="na">command=</span><span class="s">&quot;$(find xacro)/xacro $(find vkbot_description)/urdf/xacro/vkbot_with_vkarm.xacro&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;robot_state_publisher&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-6"><a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;joint_state_publisher&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-7"><a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;tf&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;static_transform_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;usb_cam2vkarm&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;0.0885 0 0.065 -1.57 0 -1.57 link5 usb_cam 10&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-8"><a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;tf&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;static_transform_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;ar_link2_usb_cam&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;0 0 0 1.57 -1.57 0 usb_cam ar_link 10&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-9"><a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a>
</span><span id="__span-58-10"><a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a><span class="w">    </span><span class="cm">&lt;!-- usb_cam --&gt;</span>
</span><span id="__span-58-11"><a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;usb_cam&quot;</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;usb_cam&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;usb_cam_node&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="w"> </span><span class="nt">&gt;</span>
</span><span id="__span-58-12"><a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;video_device&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;/dev/vkarm_camera_raw&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-13"><a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;image_width&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1280&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-14"><a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;image_height&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;720&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-15"><a id="__codelineno-58-15" name="__codelineno-58-15" href="#__codelineno-58-15"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;pixel_format&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;yuyv&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-16"><a id="__codelineno-58-16" name="__codelineno-58-16" href="#__codelineno-58-16"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_frame_id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;usb_cam&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-17"><a id="__codelineno-58-17" name="__codelineno-58-17" href="#__codelineno-58-17"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;io_method&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;mmap&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-58-18"><a id="__codelineno-58-18" name="__codelineno-58-18" href="#__codelineno-58-18"></a>
</span><span id="__span-58-19"><a id="__codelineno-58-19" name="__codelineno-58-19" href="#__codelineno-58-19"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;camera_info_url&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;file://$(find æ‘„åƒå¤´åŠŸèƒ½åŒ…)/æ ‡å®šYAMLæ–‡ä»¶å&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-20"><a id="__codelineno-58-20" name="__codelineno-58-20" href="#__codelineno-58-20"></a><span class="w">    </span><span class="nt">&lt;/node&gt;</span>
</span><span id="__span-58-21"><a id="__codelineno-58-21" name="__codelineno-58-21" href="#__codelineno-58-21"></a>
</span><span id="__span-58-22"><a id="__codelineno-58-22" name="__codelineno-58-22" href="#__codelineno-58-22"></a><span class="w">    </span><span class="cm">&lt;!-- ar_track --&gt;</span>
</span><span id="__span-58-23"><a id="__codelineno-58-23" name="__codelineno-58-23" href="#__codelineno-58-23"></a><span class="w">    </span><span class="nt">&lt;arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;marker_size&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;3.0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-24"><a id="__codelineno-58-24" name="__codelineno-58-24" href="#__codelineno-58-24"></a><span class="w">    </span><span class="nt">&lt;arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;max_new_marker_error&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;0.08&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-25"><a id="__codelineno-58-25" name="__codelineno-58-25" href="#__codelineno-58-25"></a><span class="w">    </span><span class="nt">&lt;arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;max_track_error&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;0.2&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-26"><a id="__codelineno-58-26" name="__codelineno-58-26" href="#__codelineno-58-26"></a><span class="w">    </span><span class="nt">&lt;arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;cam_image_topic&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;/usb_cam/image_raw&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-27"><a id="__codelineno-58-27" name="__codelineno-58-27" href="#__codelineno-58-27"></a><span class="w">    </span><span class="nt">&lt;arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;cam_info_topic&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;/usb_cam/camera_info&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-28"><a id="__codelineno-58-28" name="__codelineno-58-28" href="#__codelineno-58-28"></a><span class="w">    </span><span class="nt">&lt;arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;output_frame&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;/ar_link&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-29"><a id="__codelineno-58-29" name="__codelineno-58-29" href="#__codelineno-58-29"></a>
</span><span id="__span-58-30"><a id="__codelineno-58-30" name="__codelineno-58-30" href="#__codelineno-58-30"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;ar_track_alvar&quot;</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;ar_track_alvar&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;individualMarkersNoKinect&quot;</span><span class="w"> </span><span class="na">respawn=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-58-31"><a id="__codelineno-58-31" name="__codelineno-58-31" href="#__codelineno-58-31"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;marker_size&quot;</span><span class="w">           </span><span class="na">type=</span><span class="s">&quot;double&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;$(arg marker_size)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-32"><a id="__codelineno-58-32" name="__codelineno-58-32" href="#__codelineno-58-32"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;max_new_marker_error&quot;</span><span class="w">  </span><span class="na">type=</span><span class="s">&quot;double&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;$(arg max_new_marker_error)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-33"><a id="__codelineno-58-33" name="__codelineno-58-33" href="#__codelineno-58-33"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;max_track_error&quot;</span><span class="w">       </span><span class="na">type=</span><span class="s">&quot;double&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;$(arg max_track_error)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-34"><a id="__codelineno-58-34" name="__codelineno-58-34" href="#__codelineno-58-34"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;output_frame&quot;</span><span class="w">          </span><span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;$(arg output_frame)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-35"><a id="__codelineno-58-35" name="__codelineno-58-35" href="#__codelineno-58-35"></a>
</span><span id="__span-58-36"><a id="__codelineno-58-36" name="__codelineno-58-36" href="#__codelineno-58-36"></a><span class="w">        </span><span class="nt">&lt;remap</span><span class="w"> </span><span class="na">from=</span><span class="s">&quot;camera_image&quot;</span><span class="w">  </span><span class="na">to=</span><span class="s">&quot;$(arg cam_image_topic)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-37"><a id="__codelineno-58-37" name="__codelineno-58-37" href="#__codelineno-58-37"></a><span class="w">        </span><span class="nt">&lt;remap</span><span class="w"> </span><span class="na">from=</span><span class="s">&quot;camera_info&quot;</span><span class="w">   </span><span class="na">to=</span><span class="s">&quot;$(arg cam_info_topic)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-38"><a id="__codelineno-58-38" name="__codelineno-58-38" href="#__codelineno-58-38"></a><span class="w">    </span><span class="nt">&lt;/node&gt;</span>
</span><span id="__span-58-39"><a id="__codelineno-58-39" name="__codelineno-58-39" href="#__codelineno-58-39"></a>
</span><span id="__span-58-40"><a id="__codelineno-58-40" name="__codelineno-58-40" href="#__codelineno-58-40"></a><span class="w">    </span><span class="cm">&lt;!-- rviz --&gt;</span>
</span><span id="__span-58-41"><a id="__codelineno-58-41" name="__codelineno-58-41" href="#__codelineno-58-41"></a><span class="w">    </span><span class="nt">&lt;arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;rviz_config&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;$(find åŠŸèƒ½åŒ…å)/config/ar_track_camera.rviz&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-42"><a id="__codelineno-58-42" name="__codelineno-58-42" href="#__codelineno-58-42"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;$(arg rviz_config)&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-58-43"><a id="__codelineno-58-43" name="__codelineno-58-43" href="#__codelineno-58-43"></a>
</span><span id="__span-58-44"><a id="__codelineno-58-44" name="__codelineno-58-44" href="#__codelineno-58-44"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<blockquote>
<p>éœ€è¦ä¿®æ”¹çš„åœ°æ–¹æœ‰ï¼š</p>
<ul>
<li>è®¾ç½®worldä¸cameraä¹‹é—´çš„åæ ‡å˜æ¢</li>
<li>è®¾ç½®individualMarkersNoKinectèŠ‚ç‚¹æ‰€éœ€çš„å‚æ•°ï¼Œä¸»è¦æœ‰ï¼šè®¢é˜…å›¾åƒæ•°æ®çš„è¯é¢˜åä»¥åŠä½¿ç”¨çš„äºŒç»´ç å®é™…å°ºå¯¸ï¼ˆcmï¼‰</li>
<li>å¯åŠ¨rvizå°†è¯†åˆ«ç»“æœå¯è§†åŒ–ï¼Œä¿å­˜rvizé…ç½®æ–¹ä¾¿å¤ç”¨</li>
</ul>
</blockquote>
<h2 id="54">5.4 æ¿€å…‰é›·è¾¾</h2>
<h3 id="541">5.4.1 æ¿€å…‰é›·è¾¾ç®€ä»‹</h3>
<p>æ¿€å…‰é›·è¾¾ï¼ˆLight Detecting And Rangingï¼Œç®€ç§°Lidarï¼‰å³<strong>å…‰æ¢æµ‹å’Œæµ‹è·</strong>ï¼Œç§»åŠ¨æœºå™¨äººåœ¨è‡ªä¸»ç§»åŠ¨è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä»ç¯å¢ƒä¸­è·å–éšœç¢ç‰©çš„å…·ä½“ä½ç½®ï¼Œæˆ¿é—´çš„å†…éƒ¨è½®å»“ç­‰ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯æ˜¯æœºå™¨äººåˆ›å»ºåœ°å›¾ã€è¿›è¡Œå¯¼èˆªçš„åŸºç¡€æ•°æ®ï¼Œä½¿ç”¨æ¿€å…‰é›·è¾¾æ¥è·å–è¿™ç±»æ•°æ®æ˜¯è¾ƒä¸ºå¸¸è§é€‰æ‹©ã€‚</p>
<h3 id="542">5.4.2 æ¿€å…‰é›·è¾¾åŸç†</h3>
<p>æ¿€å…‰é›·è¾¾å¯ä»¥å‘å°„æ¿€å…‰æŸï¼Œå…‰æŸç…§å°„åˆ°ç‰©ä½“ä¸Šï¼Œå†åå°„å›æ¿€å…‰é›·è¾¾ï¼Œç›®å‰å¸‚é¢ä¸Šçš„æ¿€å…‰é›·è¾¾æ ¹æ®æµ‹è·åŸç†ä¸åŒï¼Œå¯åˆ†ä¸º<strong>è„‰å†²å¼</strong>ï¼ˆé‡‡ç”¨TOFæ³•æ¥å®ç°æµ‹è·ï¼‰å’Œ<strong>ä¸‰è§’å¼</strong>ã€‚</p>
<p>1.è„‰å†²å¼</p>
<p>ä¹Ÿç§°ä¸ºç›´æ¥å¼ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p>
<figure>
<p>D = c Ã— t / 2</p>
</figure>
<p>Dä¸ºæµ‹é‡è·ç¦»ï¼Œcä¸ºæ’å®šçš„å…‰é€Ÿï¼Œtä¸ºæ¿€å…‰å¾€è¿”æ—¶é—´ã€‚è„‰å†²å¼çš„å·¥ä½œåŸç†ååˆ†ç®€å•ï¼Œæ’å®šé€Ÿåº¦ä¹˜ä»¥æ—¶é—´ç­‰äºè·ç¦»ï¼Œç”±äºæ˜¯å¾€è¿”ï¼Œæ‰€ä»¥éœ€è¦é™¤ä»¥2ã€‚</p>
<p>2.ä¸‰è§’å¼</p>
<p>ä¹Ÿç§°ä¸ºé—´æ¥å¼ï¼Œå°†å…‰æºã€è¢«æµ‹ç‰©ä½“ã€æ¥æ”¶ç³»ç»Ÿä¸‰ç‚¹ç»„æˆä¸€ä¸ªä¸‰è§’å½¢å…‰è·¯ï¼Œæ¥æ”¶ç³»ç»Ÿè´Ÿè´£æ¥æ”¶æ¥è‡ªè¢«æµ‹ç‰©ä½“è¡¨é¢çš„æ•£å°„å…‰ï¼Œå¹¶å°†å…¶æˆåƒåœ¨å…‰ç”µæ¢æµ‹å™¨çš„æ•æ„Ÿé¢ä¸Šï¼Œé€šè¿‡å…‰ç‚¹åœ¨æ•æ„Ÿé¢ä¸Šçš„åˆ†å¸ƒè·ç¦»ï¼Œä»è€Œè®¡ç®—å‡ºè¢«æµ‹ç‰©ä½“çš„è·ç¦»ï¼Œå·¥ä½œåŸç†å¦‚ä¸‹å›¾ï¼š</p>
<figure>
<p><img alt="" src="../assets/%E4%B8%89%E8%A7%92%E5%BC%8F%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E6%B5%8B%E8%B7%9D%E5%8E%9F%E7%90%86.png" width="700" /></p>
</figure>
<h3 id="543">5.4.3 æ¿€å…‰é›·è¾¾çš„ä½¿ç”¨</h3>
<p>1.é›·è¾¾è¿æ¥PC</p>
<p>é›·è¾¾é€šç”µåè¿æ¥ä¸»æœºUSBç«¯å£ï¼Œå¹¶åœ¨è™šæ‹Ÿæœºä¸­åšå¥½ç›¸å…³è®¾ç½®ã€‚</p>
<figure>
<p><img alt="image-20230626155234607" src="../assets/image-20230626155234607.png" width="700" /></p>
</figure>
<p>2.ç¡®è®¤å½“å‰USBç«¯å£å¹¶ä¿®æ”¹æƒé™</p>
<p>æŸ¥çœ‹ç«¯å£ï¼š</p>
<p><code>ll /dev/ttyUSB*</code></p>
<figure>
<p><img alt="image-20230626155346561" src="../assets/image-20230626155346561.png" /></p>
</figure>
<p>ä¸ºå½“å‰ç”¨æˆ·æ·»åŠ æƒé™ï¼ˆå°†ç”¨æˆ·æ·»åŠ è¿›dialoutç»„ï¼‰ï¼š</p>
<p><code>sudo usermod -a -G dialout &lt;your_user_name&gt;</code></p>
<figure>
<p><img alt="image-20230626155631338" src="../assets/image-20230626155631338.png" /></p>
</figure>
<blockquote>
<p><img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/26a0.svg" title=":warning:" />ï¼šé‡å¯è™šæ‹Ÿæœºä½¿ä¹‹ç”Ÿæ•ˆ</p>
</blockquote>
<h3 id="542_1">5.4.2 æ¿€å…‰é›·è¾¾åŠŸèƒ½åŒ…å®‰è£…ä¸é…ç½®</h3>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/YDLIDAR/YDLidar-SDK.git
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>vkrobot@vkrobot:~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>YDLidar-SDK
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a>vkrobot@vkrobot:~/YDLidar-SDK$<span class="w"> </span>mkdir<span class="w"> </span>build
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a>vkrobot@vkrobot:~/YDLidar-SDK$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a>vkrobot@vkrobot:~/YDLidar-SDK/build$<span class="w"> </span>cmake<span class="w"> </span>..
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a>vkrobot@vkrobot:~/YDLidar-SDK/build$<span class="w"> </span>make
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a>vkrobot@vkrobot:~/YDLidar-SDK/build$<span class="w"> </span>sudo<span class="w"> </span>make<span class="w"> </span>install
</span></code></pre></div>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>vkrobot@vkrobot:~$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/YDLIDAR/ydlidar_ros_driver.git<span class="w"> </span>ydlidar_ws/src/ydlidar_ros_driver
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>vkrobot@vkrobot:~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>ydlidar_ws
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>vkrobot@vkrobot:~/ydlidar_ws$<span class="w"> </span>catkin_make
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>vkrobot@vkrobot:~/ydlidar_ws$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;source ~/ydlidar_ws/devel/setup.bash&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.bashrc
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a>vkrobot@vkrobot:~/ydlidar_ws$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/.bashrc
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a>vkrobot@vkrobot:~/ydlidar_ws$<span class="w"> </span>chmod<span class="w"> </span><span class="m">0777</span><span class="w"> </span>src/ydlidar_ros_driver/startup/*
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a>vkrobot@vkrobot:~/ydlidar_ws$<span class="w"> </span>sudo<span class="w"> </span>sh<span class="w"> </span>src/ydlidar_ros_driver/startup/initenv.sh
</span></code></pre></div>
<h3 id="543_1">5.4.3 æ¿€å…‰é›·è¾¾æ•°æ®è·å–ä¸æ˜¾ç¤º</h3>
<p><code>roslaunch ydliadr_ros_driver lidar_view.launch</code></p>
<p><code>lidar_view.launch</code></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="nt">&lt;launch&gt;</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;ydlidar_lidar_publisher&quot;</span><span class="w">  </span><span class="na">pkg=</span><span class="s">&quot;ydlidar_ros_driver&quot;</span><span class="w">  </span><span class="na">type=</span><span class="s">&quot;ydlidar_ros_driver_node&quot;</span><span class="w"> </span><span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="w"> </span><span class="na">respawn=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="nt">&gt;</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="w">        </span><span class="cm">&lt;!-- string property --&gt;</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;port&quot;</span><span class="w">         </span><span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;/dev/ydlidar&quot;</span><span class="nt">/&gt;</span><span class="w">  </span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;frame_id&quot;</span><span class="w">     </span><span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;laser_frame&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;ignore_array&quot;</span><span class="w">     </span><span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="w">        </span><span class="cm">&lt;!-- int property --&gt;</span>
</span><span id="__span-61-9"><a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;baudrate&quot;</span><span class="w">         </span><span class="na">type=</span><span class="s">&quot;int&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;230400&quot;</span><span class="nt">/&gt;</span><span class="w">  </span>
</span><span id="__span-61-10"><a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a><span class="w">        </span><span class="cm">&lt;!-- 0:TYPE_TOF, 1:TYPE_TRIANGLE, 2:TYPE_TOF_NET --&gt;</span>
</span><span id="__span-61-11"><a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;lidar_type&quot;</span><span class="w">       </span><span class="na">type=</span><span class="s">&quot;int&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span><span class="w">  </span>
</span><span id="__span-61-12"><a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a><span class="w">        </span><span class="cm">&lt;!-- 0:YDLIDAR_TYPE_SERIAL, 1:YDLIDAR_TYPE_TCP --&gt;</span>
</span><span id="__span-61-13"><a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;device_type&quot;</span><span class="w">         </span><span class="na">type=</span><span class="s">&quot;int&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span><span class="w">  </span>
</span><span id="__span-61-14"><a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sample_rate&quot;</span><span class="w">         </span><span class="na">type=</span><span class="s">&quot;int&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;9&quot;</span><span class="nt">/&gt;</span><span class="w">  </span>
</span><span id="__span-61-15"><a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;abnormal_check_count&quot;</span><span class="w">         </span><span class="na">type=</span><span class="s">&quot;int&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;4&quot;</span><span class="nt">/&gt;</span><span class="w">  </span>
</span><span id="__span-61-16"><a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a>
</span><span id="__span-61-17"><a id="__codelineno-61-17" name="__codelineno-61-17" href="#__codelineno-61-17"></a><span class="w">        </span><span class="cm">&lt;!-- bool property --&gt;</span>
</span><span id="__span-61-18"><a id="__codelineno-61-18" name="__codelineno-61-18" href="#__codelineno-61-18"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;resolution_fixed&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;bool&quot;</span><span class="w">   </span><span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-19"><a id="__codelineno-61-19" name="__codelineno-61-19" href="#__codelineno-61-19"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;auto_reconnect&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;bool&quot;</span><span class="w">   </span><span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-20"><a id="__codelineno-61-20" name="__codelineno-61-20" href="#__codelineno-61-20"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;reversion&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;bool&quot;</span><span class="w">   </span><span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-21"><a id="__codelineno-61-21" name="__codelineno-61-21" href="#__codelineno-61-21"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;inverted&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;bool&quot;</span><span class="w">   </span><span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-22"><a id="__codelineno-61-22" name="__codelineno-61-22" href="#__codelineno-61-22"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;isSingleChannel&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;bool&quot;</span><span class="w">   </span><span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-23"><a id="__codelineno-61-23" name="__codelineno-61-23" href="#__codelineno-61-23"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;intensity&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;bool&quot;</span><span class="w">   </span><span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-24"><a id="__codelineno-61-24" name="__codelineno-61-24" href="#__codelineno-61-24"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;support_motor_dtr&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;bool&quot;</span><span class="w">   </span><span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-25"><a id="__codelineno-61-25" name="__codelineno-61-25" href="#__codelineno-61-25"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;invalid_range_is_inf&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;bool&quot;</span><span class="w">   </span><span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-26"><a id="__codelineno-61-26" name="__codelineno-61-26" href="#__codelineno-61-26"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;point_cloud_preservative&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;bool&quot;</span><span class="w">   </span><span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-27"><a id="__codelineno-61-27" name="__codelineno-61-27" href="#__codelineno-61-27"></a>
</span><span id="__span-61-28"><a id="__codelineno-61-28" name="__codelineno-61-28" href="#__codelineno-61-28"></a><span class="w">        </span><span class="cm">&lt;!-- float property --&gt;</span>
</span><span id="__span-61-29"><a id="__codelineno-61-29" name="__codelineno-61-29" href="#__codelineno-61-29"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;angle_min&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;double&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;-180&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-61-30"><a id="__codelineno-61-30" name="__codelineno-61-30" href="#__codelineno-61-30"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;angle_max&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;double&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;180&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-61-31"><a id="__codelineno-61-31" name="__codelineno-61-31" href="#__codelineno-61-31"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;range_min&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;double&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-61-32"><a id="__codelineno-61-32" name="__codelineno-61-32" href="#__codelineno-61-32"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;range_max&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;double&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;16.0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-61-33"><a id="__codelineno-61-33" name="__codelineno-61-33" href="#__codelineno-61-33"></a><span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;frequency&quot;</span><span class="w">    </span><span class="na">type=</span><span class="s">&quot;double&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;10.0&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-61-34"><a id="__codelineno-61-34" name="__codelineno-61-34" href="#__codelineno-61-34"></a><span class="w">    </span><span class="nt">&lt;/node&gt;</span>
</span><span id="__span-61-35"><a id="__codelineno-61-35" name="__codelineno-61-35" href="#__codelineno-61-35"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;tf&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;static_transform_publisher&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;base_link_to_laser4&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;0.15 0.0 0.28 0.0 0.0 0.0 /base_link /laser_frame 40&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-61-36"><a id="__codelineno-61-36" name="__codelineno-61-36" href="#__codelineno-61-36"></a>
</span><span id="__span-61-37"><a id="__codelineno-61-37" name="__codelineno-61-37" href="#__codelineno-61-37"></a><span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;rviz&quot;</span><span class="w"> </span><span class="na">args=</span><span class="s">&quot;-d $(find ydlidar_ros_driver)/launch/lidar.rviz&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span><span id="__span-61-38"><a id="__codelineno-61-38" name="__codelineno-61-38" href="#__codelineno-61-38"></a><span class="nt">&lt;/launch&gt;</span>
</span></code></pre></div>
<figure>
<p><img alt="image-20230626161108148" src="../assets/image-20230626161108148.png" width="700" /></p>
</figure>



  



                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            å›åˆ°é¡µé¢é¡¶éƒ¨
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
        
      
      <nav class="md-footer__inner md-grid" aria-label="é¡µè„š" >
        
          
          <a href="../ROS%E5%9F%BA%E7%A1%80/" class="md-footer__link md-footer__link--prev" aria-label="ä¸Šä¸€é¡µ: ROSåŸºç¡€" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ä¸Šä¸€é¡µ
              </span>
              <div class="md-ellipsis">
                ROSåŸºç¡€
              </div>
            </div>
          </a>
        
        
          
          <a href="../%E5%BB%BA%E5%9B%BE%E4%B8%8E%E5%AF%BC%E8%88%AA/" class="md-footer__link md-footer__link--next" aria-label="ä¸‹ä¸€é¡µ: å»ºå›¾ä¸å¯¼èˆª" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ä¸‹ä¸€é¡µ
              </span>
              <div class="md-ellipsis">
                å»ºå›¾ä¸å¯¼èˆª
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 VK-Robot
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
    
    
    
    <a href="http://www.vk-robot.com/" target="_blank" rel="noopener me" title="å®˜ç½‘" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            




  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">åŒæ„</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">ç®¡ç†è®¾å®š</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.path", "navigation.footer", "navigation.indexes", "navigation.prune", "navigation.top", "content.code.copy", "content.code.select", "content.code.annotate", "toc.follow"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>